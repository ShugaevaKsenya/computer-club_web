{"ast":null,"code":"// В методе handleFoodSubmit замените:\nconst handleFoodSubmit = async e => {\n  e.preventDefault();\n  try {\n    const response = await apiService.createFood({\n      name: foodForm.name,\n      type: foodForm.type,\n      price: parseFloat(foodForm.price),\n      count: parseInt(foodForm.count),\n      path_to_img: foodForm.path_to_img || null\n    });\n    setFoods(prev => [...prev, response]);\n    setFoodForm({\n      name: '',\n      type: 'food',\n      price: '',\n      count: '',\n      path_to_img: ''\n    });\n    alert('Еда успешно добавлена!');\n  } catch (error) {\n    console.error('Error adding food:', error);\n    alert(`Ошибка при добавлении еды: ${error.message}`);\n  }\n};\n\n// В методе handleSpecSubmit замените:\nconst handleSpecSubmit = async e => {\n  e.preventDefault();\n  try {\n    const response = await apiService.request('/computer-specs', {\n      method: 'POST',\n      body: {\n        ram: specForm.ram || null,\n        processor: specForm.processor || null,\n        gpu: specForm.gpu || null,\n        monitor: specForm.monitor || null,\n        headphones: specForm.headphones || null,\n        mouse: specForm.mouse || null,\n        keyboard: specForm.keyboard || null\n      }\n    });\n    setSpecs(prev => [...prev, response]);\n    setSpecForm({\n      ram: '',\n      processor: '',\n      gpu: '',\n      monitor: '',\n      headphones: '',\n      mouse: '',\n      keyboard: ''\n    });\n    alert('Характеристики успешно добавлены!');\n  } catch (error) {\n    console.error('Error adding spec:', error);\n    alert(`Ошибка при добавлении характеристик: ${error.message}`);\n  }\n};\n\n// В методе handlePositionSubmit замените:\nconst handlePositionSubmit = async e => {\n  e.preventDefault();\n  try {\n    const response = await apiService.request('/computer-positions', {\n      method: 'POST',\n      body: {\n        room: positionForm.room,\n        number: parseInt(positionForm.number),\n        coefficient: parseFloat(positionForm.coefficient),\n        club_id: parseInt(positionForm.club_id)\n      }\n    });\n    setPositions(prev => [...prev, response]);\n    setPositionForm({\n      room: '',\n      number: '',\n      coefficient: '1.0',\n      club_id: ''\n    });\n    alert('Позиция успешно добавлена!');\n  } catch (error) {\n    console.error('Error adding position:', error);\n    alert(`Ошибка при добавлении позиции: ${error.message}`);\n  }\n};\n\n// В методе handleComputerSubmit замените:\nconst handleComputerSubmit = async e => {\n  e.preventDefault();\n  try {\n    const response = await apiService.request('/computers', {\n      method: 'POST',\n      body: {\n        price: parseFloat(computerForm.price),\n        spec_id: parseInt(computerForm.spec_id),\n        position_id: parseInt(computerForm.position_id)\n      }\n    });\n    setComputers(prev => [...prev, response]);\n    setComputerForm({\n      price: '',\n      spec_id: '',\n      position_id: ''\n    });\n    alert('Компьютер успешно добавлен!');\n  } catch (error) {\n    console.error('Error adding computer:', error);\n    alert(`Ошибка при добавлении компьютера: ${error.message}`);\n  }\n};\n\n// В методе handleDeleteFood замените:\nconst handleDeleteFood = async id => {\n  if (window.confirm('Вы уверены, что хотите удалить этот товар?')) {\n    try {\n      await apiService.deleteFood(id);\n      setFoods(prev => prev.filter(food => food.id !== id));\n      alert('Товар удален!');\n    } catch (error) {\n      console.error('Error deleting food:', error);\n      alert(`Ошибка при удалении товара: ${error.message}`);\n    }\n  }\n};\n\n// В методе handleDeleteComputer замените:\nconst handleDeleteComputer = async id => {\n  if (window.confirm('Вы уверены, что хотите удалить этот компьютер?')) {\n    try {\n      await apiService.request(`/computers/${id}`, {\n        method: 'DELETE'\n      });\n      setComputers(prev => prev.filter(computer => computer.id !== id));\n      alert('Компьютер удален!');\n    } catch (error) {\n      console.error('Error deleting computer:', error);\n      alert(`Ошибка при удалении компьютера: ${error.message}`);\n    }\n  }\n};\n\n// В loadData методе обновите вызовы:\nconst loadData = async () => {\n  setLoading(true);\n  try {\n    const [foodsData, computersData, clubsData, specsData, positionsData] = await Promise.all([apiService.getFoods(), apiService.getComputers(), apiService.getClubs(), apiService.getComputerSpecs(), apiService.getComputerPositions()]);\n    setFoods(foodsData);\n    setComputers(computersData);\n    setClubs(clubsData);\n    setSpecs(specsData);\n    setPositions(positionsData);\n  } catch (error) {\n    console.error('Error loading data:', error);\n    alert(`Ошибка загрузки данных: ${error.message}`);\n  } finally {\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["handleFoodSubmit","e","preventDefault","response","apiService","createFood","name","foodForm","type","price","parseFloat","count","parseInt","path_to_img","setFoods","prev","setFoodForm","alert","error","console","message","handleSpecSubmit","request","method","body","ram","specForm","processor","gpu","monitor","headphones","mouse","keyboard","setSpecs","setSpecForm","handlePositionSubmit","room","positionForm","number","coefficient","club_id","setPositions","setPositionForm","handleComputerSubmit","computerForm","spec_id","position_id","setComputers","setComputerForm","handleDeleteFood","id","window","confirm","deleteFood","filter","food","handleDeleteComputer","computer","loadData","setLoading","foodsData","computersData","clubsData","specsData","positionsData","Promise","all","getFoods","getComputers","getClubs","getComputerSpecs","getComputerPositions","setClubs"],"sources":["C:/Users/Ksenia/Desktop/комп_клуб/gaming-club-react/src/services/Api.js"],"sourcesContent":["// В методе handleFoodSubmit замените:\r\nconst handleFoodSubmit = async (e) => {\r\n  e.preventDefault();\r\n  try {\r\n    const response = await apiService.createFood({\r\n      name: foodForm.name,\r\n      type: foodForm.type,\r\n      price: parseFloat(foodForm.price),\r\n      count: parseInt(foodForm.count),\r\n      path_to_img: foodForm.path_to_img || null\r\n    });\r\n    \r\n    setFoods(prev => [...prev, response]);\r\n    setFoodForm({ name: '', type: 'food', price: '', count: '', path_to_img: '' });\r\n    alert('Еда успешно добавлена!');\r\n  } catch (error) {\r\n    console.error('Error adding food:', error);\r\n    alert(`Ошибка при добавлении еды: ${error.message}`);\r\n  }\r\n};\r\n\r\n// В методе handleSpecSubmit замените:\r\nconst handleSpecSubmit = async (e) => {\r\n  e.preventDefault();\r\n  try {\r\n    const response = await apiService.request('/computer-specs', {\r\n      method: 'POST',\r\n      body: {\r\n        ram: specForm.ram || null,\r\n        processor: specForm.processor || null,\r\n        gpu: specForm.gpu || null,\r\n        monitor: specForm.monitor || null,\r\n        headphones: specForm.headphones || null,\r\n        mouse: specForm.mouse || null,\r\n        keyboard: specForm.keyboard || null\r\n      }\r\n    });\r\n    \r\n    setSpecs(prev => [...prev, response]);\r\n    setSpecForm({ ram: '', processor: '', gpu: '', monitor: '', headphones: '', mouse: '', keyboard: '' });\r\n    alert('Характеристики успешно добавлены!');\r\n  } catch (error) {\r\n    console.error('Error adding spec:', error);\r\n    alert(`Ошибка при добавлении характеристик: ${error.message}`);\r\n  }\r\n};\r\n\r\n// В методе handlePositionSubmit замените:\r\nconst handlePositionSubmit = async (e) => {\r\n  e.preventDefault();\r\n  try {\r\n    const response = await apiService.request('/computer-positions', {\r\n      method: 'POST',\r\n      body: {\r\n        room: positionForm.room,\r\n        number: parseInt(positionForm.number),\r\n        coefficient: parseFloat(positionForm.coefficient),\r\n        club_id: parseInt(positionForm.club_id)\r\n      }\r\n    });\r\n    \r\n    setPositions(prev => [...prev, response]);\r\n    setPositionForm({ room: '', number: '', coefficient: '1.0', club_id: '' });\r\n    alert('Позиция успешно добавлена!');\r\n  } catch (error) {\r\n    console.error('Error adding position:', error);\r\n    alert(`Ошибка при добавлении позиции: ${error.message}`);\r\n  }\r\n};\r\n\r\n// В методе handleComputerSubmit замените:\r\nconst handleComputerSubmit = async (e) => {\r\n  e.preventDefault();\r\n  try {\r\n    const response = await apiService.request('/computers', {\r\n      method: 'POST',\r\n      body: {\r\n        price: parseFloat(computerForm.price),\r\n        spec_id: parseInt(computerForm.spec_id),\r\n        position_id: parseInt(computerForm.position_id)\r\n      }\r\n    });\r\n    \r\n    setComputers(prev => [...prev, response]);\r\n    setComputerForm({ price: '', spec_id: '', position_id: '' });\r\n    alert('Компьютер успешно добавлен!');\r\n  } catch (error) {\r\n    console.error('Error adding computer:', error);\r\n    alert(`Ошибка при добавлении компьютера: ${error.message}`);\r\n  }\r\n};\r\n\r\n// В методе handleDeleteFood замените:\r\nconst handleDeleteFood = async (id) => {\r\n  if (window.confirm('Вы уверены, что хотите удалить этот товар?')) {\r\n    try {\r\n      await apiService.deleteFood(id);\r\n      setFoods(prev => prev.filter(food => food.id !== id));\r\n      alert('Товар удален!');\r\n    } catch (error) {\r\n      console.error('Error deleting food:', error);\r\n      alert(`Ошибка при удалении товара: ${error.message}`);\r\n    }\r\n  }\r\n};\r\n\r\n// В методе handleDeleteComputer замените:\r\nconst handleDeleteComputer = async (id) => {\r\n  if (window.confirm('Вы уверены, что хотите удалить этот компьютер?')) {\r\n    try {\r\n      await apiService.request(`/computers/${id}`, { method: 'DELETE' });\r\n      setComputers(prev => prev.filter(computer => computer.id !== id));\r\n      alert('Компьютер удален!');\r\n    } catch (error) {\r\n      console.error('Error deleting computer:', error);\r\n      alert(`Ошибка при удалении компьютера: ${error.message}`);\r\n    }\r\n  }\r\n};\r\n\r\n// В loadData методе обновите вызовы:\r\nconst loadData = async () => {\r\n  setLoading(true);\r\n  try {\r\n    const [foodsData, computersData, clubsData, specsData, positionsData] = await Promise.all([\r\n      apiService.getFoods(),\r\n      apiService.getComputers(),\r\n      apiService.getClubs(),\r\n      apiService.getComputerSpecs(),\r\n      apiService.getComputerPositions()\r\n    ]);\r\n    \r\n    setFoods(foodsData);\r\n    setComputers(computersData);\r\n    setClubs(clubsData);\r\n    setSpecs(specsData);\r\n    setPositions(positionsData);\r\n  } catch (error) {\r\n    console.error('Error loading data:', error);\r\n    alert(`Ошибка загрузки данных: ${error.message}`);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}