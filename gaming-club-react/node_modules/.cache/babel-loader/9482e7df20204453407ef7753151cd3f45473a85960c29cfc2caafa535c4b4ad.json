{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ksenia\\\\Desktop\\\\\\u043A\\u043E\\u043C\\u043F_\\u043A\\u043B\\u0443\\u0431\\\\gaming-club-react\\\\src\\\\components\\\\BookingConfirmation.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { apiService } from '../services/Api';\nimport '../styles/BookingConfirmation.css';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookingConfirmation = () => {\n  _s();\n  const [bookingData, setBookingData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [processingPayment, setProcessingPayment] = useState(false);\n  const [promoCode, setPromoCode] = useState('');\n  const [appliedPromoCode, setAppliedPromoCode] = useState(null);\n  const [tariffData, setTariffData] = useState(null);\n  const [computers, setComputers] = useState([]);\n  const [foods, setFoods] = useState([]);\n  const [clubs, setClubs] = useState([]);\n  useEffect(() => {\n    const loadBookingData = () => {\n      try {\n        const savedData = localStorage.getItem('lastBooking');\n        console.log('üì¶ Loading booking data from localStorage:', savedData);\n        if (savedData) {\n          const parsedData = JSON.parse(savedData);\n          setBookingData(parsedData);\n          console.log('‚úÖ Booking data loaded successfully');\n        } else {\n          console.warn('‚ùå No booking data found in localStorage');\n        }\n      } catch (error) {\n        console.error('‚ùå Error loading booking data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    loadBookingData();\n  }, []);\n  useEffect(() => {\n    const loadAdditionalData = async () => {\n      if (!bookingData) return;\n      try {\n        console.log('üîÑ Loading additional data from API...');\n        const [foodsData, computersData, clubsData] = await Promise.all([apiService.getFoods().catch(error => {\n          console.error('‚ùå Error loading foods:', error);\n          return [];\n        }), apiService.getComputers().catch(error => {\n          console.error('‚ùå Error loading computers:', error);\n          return [];\n        }), apiService.getClubs().catch(error => {\n          console.error('‚ùå Error loading clubs:', error);\n          return [];\n        })]);\n        console.log('üìä API Data loaded:', {\n          foods: foodsData.length,\n          computers: computersData.length,\n          clubs: clubsData.length\n        });\n        setFoods(foodsData);\n        setComputers(computersData);\n        setClubs(clubsData);\n        try {\n          let tariff;\n          try {\n            tariff = await apiService.getTariff(1);\n          } catch (e) {\n            console.log('‚ö†Ô∏è Trying alternative tariff endpoint...');\n            tariff = await apiService.request('/tariffs/1');\n          }\n          console.log('üí∞ Tariff data loaded:', tariff);\n          setTariffData(tariff);\n        } catch (tariffError) {\n          console.error('‚ùå Error loading tariff:', tariffError);\n          setTariffData({\n            coefficient: 1\n          });\n        }\n      } catch (error) {\n        console.error('‚ùå Error loading additional data:', error);\n      }\n    };\n    loadAdditionalData();\n  }, [bookingData]);\n\n  // –ú–µ—Ç–æ–¥ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ –µ–¥–µ\n  const saveLocalFoodItems = (bookingId, foodItems) => {\n    try {\n      const localFoodData = {\n        bookingId: bookingId,\n        items: foodItems,\n        timestamp: new Date().toISOString()\n      };\n      localStorage.setItem(`local_food_${bookingId}`, JSON.stringify(localFoodData));\n      console.log('üíæ Local food data saved:', localFoodData);\n    } catch (error) {\n      console.error('‚ùå Error saving local food data:', error);\n    }\n  };\n\n  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–≤–æ–¥–∫—É –∑–∞–∫–∞–∑–∞ –µ–¥—ã\n  const saveFoodOrderSummary = (bookingId, cartItems, totalPrice) => {\n    try {\n      const orderSummary = {\n        bookingId: bookingId,\n        items: cartItems.map(item => ({\n          name: item.name,\n          food_id: item.id,\n          quantity: item.quantity,\n          price: item.price\n        })),\n        total: totalPrice,\n        timestamp: new Date().toISOString()\n      };\n      localStorage.setItem(`food_order_${bookingId}`, JSON.stringify(orderSummary));\n      console.log('üìã Food order summary saved for manual processing:', orderSummary);\n    } catch (error) {\n      console.error('‚ùå Error saving food order summary:', error);\n    }\n  };\n  const data = bookingData || {};\n  const {\n    formData = {},\n    selectedPlace,\n    placeRate,\n    cartItems = [],\n    totalPrice = 0,\n    calculatedData = {}\n  } = data;\n  const {\n    place = '',\n    dateFrom = '',\n    timeFrom = '',\n    dateTo = '',\n    timeTo = '',\n    address = '',\n    computer_id = '',\n    club_id = ''\n  } = formData;\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ\n  const getComputerInfo = computerId => {\n    if (!computerId) return null;\n    const computer = computers.find(c => c.id == computerId);\n    if (!computer) {\n      console.log(`‚ùå Computer not found for ID: ${computerId}`);\n      console.log('Available computers:', computers.map(c => ({\n        id: c.id,\n        name: c.name\n      })));\n      return null;\n    }\n    return {\n      id: computer.id,\n      name: computer.name || `–ö–æ–º–ø—å—é—Ç–µ—Ä ${computer.id}`,\n      price: computer.price,\n      processor: computer.processor,\n      graphicsCard: computer.graphics_card,\n      ram: computer.ram,\n      monitor: computer.monitor,\n      headphones: computer.headphones,\n      keyboard: computer.keyboard,\n      mouse: computer.mouse\n    };\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª—É–±–µ\n  const getClubInfo = clubId => {\n    if (!clubId) return {\n      address: '–ù–µ —É–∫–∞–∑–∞–Ω',\n      name: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–ª—É–±'\n    };\n    const club = clubs.find(c => c.id == clubId);\n    if (!club) {\n      console.log(`‚ùå Club not found for ID: ${clubId}`);\n      return {\n        address: `–ö–ª—É–± #${clubId}`,\n        name: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–ª—É–±'\n      };\n    }\n    return club;\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –µ–¥–µ\n  const getFoodInfo = foodId => {\n    const food = foods.find(f => f.id == foodId);\n    if (!food) {\n      console.log(`‚ùå Food not found for ID: ${foodId}`);\n      return {\n        name: `–ü—Ä–æ–¥—É–∫—Ç #${foodId}`,\n        price: 0\n      };\n    }\n    return food;\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Å—Ç–µ\n  const getPlaceInfo = placeNumber => {\n    const placeInfo = {\n      1: {\n        type: \"Gaming PC\"\n      },\n      2: {\n        type: \"Gaming PC\"\n      },\n      3: {\n        type: \"Gaming PC\"\n      },\n      4: {\n        type: \"Gaming PC\"\n      },\n      5: {\n        type: \"Streaming PC\"\n      },\n      6: {\n        type: \"Competitive PC\"\n      },\n      8: {\n        type: \"PlayStation 5\"\n      },\n      9: {\n        type: \"PlayStation 5 Pro\"\n      },\n      10: {\n        type: \"VR Station\"\n      },\n      11: {\n        type: \"Audio Station\"\n      },\n      12: {\n        type: \"PlayStation 4 Pro\"\n      },\n      13: {\n        type: \"Nintendo Switch\"\n      },\n      14: {\n        type: \"Premium Audio\"\n      }\n    };\n    return placeInfo[placeNumber] || {\n      type: \"–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º–µ—Å—Ç–æ\"\n    };\n  };\n  const placeInfo = getPlaceInfo(selectedPlace);\n  const actualPlaceRate = placeRate;\n  const computerInfo = getComputerInfo(computer_id);\n  const clubInfo = getClubInfo(club_id);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-confirmation\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-state\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this);\n  }\n  if (!bookingData || !selectedPlace) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"booking-confirmation\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-booking-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0432\\u0435\\u0440\\u043D\\u0438\\u0442\\u0435\\u0441\\u044C \\u0438 \\u0441\\u043E\\u0437\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043D\\u043E\\u0432\\u043E.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn primary\",\n            onClick: () => window.location.href = '/booking',\n            children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn secondary\",\n            onClick: () => window.location.href = '/',\n            style: {\n              marginLeft: '10px'\n            },\n            children: \"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this);\n  }\n\n  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è\n  const formatDateDisplay = dateString => {\n    if (!dateString) return '';\n    const [year, month, day] = dateString.split('-').map(Number);\n    const date = new Date(year, month - 1, day);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const tomorrow = new Date(today);\n    tomorrow.setDate(tomorrow.getDate() + 1);\n    if (date.toDateString() === today.toDateString()) {\n      return '–°–µ–≥–æ–¥–Ω—è';\n    } else if (date.toDateString() === tomorrow.toDateString()) {\n      return '–ó–∞–≤—Ç—Ä–∞';\n    } else {\n      return date.toLocaleDateString('ru-RU', {\n        day: 'numeric',\n        month: 'long',\n        weekday: 'short'\n      });\n    }\n  };\n\n  // –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞—Å–æ–≤\n  const getBookingHours = () => {\n    if (!dateFrom || !timeFrom || !dateTo || !timeTo) return 0;\n    try {\n      const startDateTime = new Date(`${dateFrom}T${timeFrom}`);\n      const endDateTime = new Date(`${dateTo}T${timeTo}`);\n      const hoursDiff = (endDateTime - startDateTime) / (1000 * 60 * 60);\n      return Math.round(hoursDiff * 10) / 10;\n    } catch (error) {\n      console.error('Error calculating booking hours:', error);\n      return 0;\n    }\n  };\n\n  // –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –±–µ–∑ —Å–∫–∏–¥–∫–∏\n  const calculateBaseCost = () => {\n    if (calculatedData && calculatedData.totalCost) {\n      return calculatedData.totalCost;\n    }\n    if (!dateFrom || !timeFrom || !dateTo || !timeTo) return 0;\n    try {\n      const startDateTime = new Date(`${dateFrom}T${timeFrom}`);\n      const endDateTime = new Date(`${dateTo}T${timeTo}`);\n      const hours = (endDateTime - startDateTime) / (1000 * 60 * 60);\n      const placeCost = Math.round(hours * actualPlaceRate);\n      return placeCost + totalPrice;\n    } catch (error) {\n      console.error('Error calculating booking cost:', error);\n      return totalPrice;\n    }\n  };\n  const calculateDiscount = baseCost => {\n    if (!appliedPromoCode) return {\n      percent: 0,\n      amount: 0\n    };\n    const coefficient = (tariffData === null || tariffData === void 0 ? void 0 : tariffData.coefficient) || appliedPromoCode.coefficient || 0.9;\n    const discountPercent = Math.round((1 - coefficient) * 100);\n    const discountAmount = baseCost * (1 - coefficient);\n    return {\n      percent: discountPercent,\n      amount: Math.round(discountAmount)\n    };\n  };\n  const calculateFinalCost = () => {\n    const baseCost = calculateBaseCost();\n    if (!appliedPromoCode) {\n      return baseCost;\n    }\n    const discount = calculateDiscount(baseCost);\n    return baseCost - discount.amount;\n  };\n  const bookingHours = getBookingHours();\n  const baseCost = calculateBaseCost();\n  const finalCost = calculateFinalCost();\n  const discount = calculateDiscount(baseCost);\n  const placeCost = (calculatedData === null || calculatedData === void 0 ? void 0 : calculatedData.placeCost) || Math.round(bookingHours * actualPlaceRate);\n  const applyPromoCode = async () => {\n    if (!promoCode.trim()) {\n      alert('–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥');\n      return;\n    }\n    try {\n      console.log('üîç Applying promo code:', promoCode);\n      let promoData;\n      try {\n        const promoCodes = await apiService.getPromoCodes();\n        promoData = promoCodes.find(p => p.code === promoCode);\n        console.log('üîç Found promo code in API:', promoData);\n      } catch (apiError) {\n        console.log('‚ö†Ô∏è Cannot load promocodes from API, using default');\n      }\n      if (promoData) {\n        setAppliedPromoCode({\n          id: promoData.id,\n          code: promoData.code,\n          discount: promoData.discount_percent || 10,\n          discount_type: 'percent',\n          coefficient: promoData.coefficient || 0.9\n        });\n      } else {\n        const coefficient = 0.9;\n        const discountPercent = Math.round((1 - coefficient) * 100);\n        setAppliedPromoCode({\n          id: 1,\n          code: promoCode,\n          discount: discountPercent,\n          discount_type: 'percent',\n          coefficient: coefficient\n        });\n      }\n      alert(`–ü—Ä–æ–º–æ–∫–æ–¥ \"${promoCode}\" –ø—Ä–∏–º–µ–Ω–µ–Ω! –°–∫–∏–¥–∫–∞: ${(appliedPromoCode === null || appliedPromoCode === void 0 ? void 0 : appliedPromoCode.discount) || 10}%`);\n    } catch (error) {\n      console.error('Promo code error:', error);\n      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞');\n    }\n  };\n  const handleEditBooking = () => {\n    window.location.href = '/booking';\n  };\n  const handleBackToHome = () => {\n    window.location.href = '/';\n  };\n  const handlePayment = async () => {\n    try {\n      setProcessingPayment(true);\n      console.log('üîÑ Creating booking in database...');\n      const bookingMinutes = getBookingHours() * 60;\n      const placeCostValue = Math.round(bookingMinutes / 60 * actualPlaceRate);\n      const totalCostValue = finalCost;\n      const bookingDataToSend = {\n        computer_id: parseInt(computer_id) || 1,\n        user_id: 1,\n        club_id: parseInt(club_id) || 1,\n        tariff_id: 1,\n        code_id: appliedPromoCode ? appliedPromoCode.id : 1,\n        start_time: `${dateFrom} ${timeFrom}:00`,\n        end_time: `${dateTo} ${timeTo}:00`,\n        minutes: bookingMinutes,\n        price_for_pc: placeCostValue,\n        price_for_additions: totalPrice,\n        total_price: totalCostValue,\n        status: 'pending'\n      };\n      console.log('üì§ Sending booking to API:', bookingDataToSend);\n      const bookingResponse = await apiService.createBooking(bookingDataToSend);\n      console.log('‚úÖ Booking created:', bookingResponse);\n      console.log('üîÑ Creating payment...');\n      const paymentData = {\n        user_id: 1,\n        booking_id: bookingResponse.id,\n        price: totalCostValue,\n        payment_type: 'card',\n        status: 'pending',\n        payment_hash: `pay_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        payment_date: new Date().toISOString().split('T')[0]\n      };\n      console.log('üì§ Sending payment to API:', paymentData);\n      const paymentResponse = await apiService.createPayment(paymentData);\n      console.log('‚úÖ Payment created:', paymentResponse);\n      if (cartItems.length > 0) {\n        console.log('üîÑ Adding food items to booking...');\n        let foodResults = {\n          success: 0,\n          failed: 0,\n          errors: [],\n          localItems: []\n        };\n        const foodPromises = cartItems.map(async item => {\n          try {\n            console.log(`üì§ Adding food item:`, {\n              booking_id: bookingResponse.id,\n              food_id: item.id,\n              count: item.quantity\n            });\n            const foodResponse = await apiService.addFoodToBooking(bookingResponse.id, {\n              food_id: item.id,\n              count: item.quantity\n            });\n            console.log(`‚úÖ Added ${item.name} to booking:`, foodResponse);\n            if (foodResponse.local_only) {\n              foodResults.localItems.push({\n                name: item.name,\n                food_id: item.id,\n                count: item.quantity\n              });\n            }\n            foodResults.success++;\n            return {\n              success: true,\n              item: item.name,\n              data: foodResponse\n            };\n          } catch (foodError) {\n            console.error(`‚ùå Error adding ${item.name} to booking:`, foodError);\n            foodResults.failed++;\n            foodResults.errors.push({\n              item: item.name,\n              error: foodError.message\n            });\n            return {\n              success: false,\n              item: item.name,\n              error: foodError\n            };\n          }\n        });\n        await Promise.allSettled(foodPromises);\n        if (foodResults.localItems.length > 0) {\n          saveLocalFoodItems(bookingResponse.id, foodResults.localItems);\n        }\n        saveFoodOrderSummary(bookingResponse.id, cartItems, totalPrice);\n        let message = `–ó–∞–∫–∞–∑ –∏–∑ –∫–∞—Ñ–µ: ${foodResults.success} –∏–∑ ${cartItems.length} –ø–æ–∑–∏—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ`;\n        if (foodResults.localItems.length > 0) {\n          message += `\\n‚ö†Ô∏è ${foodResults.localItems.length} –ø–æ–∑–∏—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ (–æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)`;\n        }\n        if (foodResults.errors.length > 0) {\n          message += `\\n‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å: ${foodResults.errors.length} –ø–æ–∑–∏—Ü–∏–π`;\n          console.warn('Failed food items:', foodResults.errors);\n        }\n        if (foodResults.failed > 0 || foodResults.localItems.length > 0) {\n          alert(message);\n        } else {\n          console.log(`‚úÖ All ${cartItems.length} food items added successfully`);\n        }\n      }\n      const updatedBookingData = {\n        ...bookingData,\n        id: bookingResponse.id,\n        payment_id: paymentResponse.id,\n        status: 'pending_payment'\n      };\n      localStorage.setItem('lastBooking', JSON.stringify(updatedBookingData));\n      alert('–ü–ª–∞—Ç–µ–∂ –æ–±—Ä–∞–±–æ—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ! –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ.');\n      localStorage.removeItem('lastBooking');\n      localStorage.removeItem('bookingStarted');\n      navigate('/');\n    } catch (error) {\n      console.error('Payment error:', error);\n      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–ª–∞—Ç–µ–∂–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');\n    } finally {\n      setProcessingPayment(false);\n    }\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –æ–ø–ª–∞—Ç—ã\n  const handleSimplePayment = async () => {\n    try {\n      setProcessingPayment(true);\n      console.log('üîÑ Creating booking without payment...');\n      const bookingMinutes = getBookingHours() * 60;\n      const placeCostValue = Math.round(bookingMinutes / 60 * actualPlaceRate);\n      const totalCostValue = finalCost;\n      const bookingDataToSend = {\n        computer_id: parseInt(computer_id) || 1,\n        user_id: 1,\n        club_id: parseInt(club_id) || 1,\n        tariff_id: 1,\n        code_id: appliedPromoCode ? appliedPromoCode.id : 1,\n        start_time: `${dateFrom} ${timeFrom}:00`,\n        end_time: `${dateTo} ${timeTo}:00`,\n        minutes: bookingMinutes,\n        price_for_pc: placeCostValue,\n        price_for_additions: totalPrice,\n        total_price: totalCostValue,\n        status: 'confirmed'\n      };\n      console.log('üì§ Sending booking to API:', bookingDataToSend);\n      const bookingResponse = await apiService.createBooking(bookingDataToSend);\n      console.log('‚úÖ Booking created:', bookingResponse);\n      if (cartItems.length > 0) {\n        console.log('üîÑ Adding food items to booking...');\n        let foodResults = {\n          success: 0,\n          failed: 0,\n          errors: [],\n          localItems: []\n        };\n        const foodPromises = cartItems.map(async item => {\n          try {\n            console.log(`üì§ Adding food item:`, {\n              booking_id: bookingResponse.id,\n              food_id: item.id,\n              count: item.quantity\n            });\n            const foodResponse = await apiService.addFoodToBooking(bookingResponse.id, {\n              food_id: item.id,\n              count: item.quantity\n            });\n            console.log(`‚úÖ Added ${item.name} to booking:`, foodResponse);\n            if (foodResponse.local_only) {\n              foodResults.localItems.push({\n                name: item.name,\n                food_id: item.id,\n                count: item.quantity\n              });\n            }\n            foodResults.success++;\n            return {\n              success: true,\n              item: item.name,\n              data: foodResponse\n            };\n          } catch (foodError) {\n            console.error(`‚ùå Error adding ${item.name} to booking:`, foodError);\n            foodResults.failed++;\n            foodResults.errors.push({\n              item: item.name,\n              error: foodError.message\n            });\n            return {\n              success: false,\n              item: item.name,\n              error: foodError\n            };\n          }\n        });\n        await Promise.allSettled(foodPromises);\n        if (foodResults.localItems.length > 0) {\n          saveLocalFoodItems(bookingResponse.id, foodResults.localItems);\n        }\n        saveFoodOrderSummary(bookingResponse.id, cartItems, totalPrice);\n        let message = `–ó–∞–∫–∞–∑ –∏–∑ –∫–∞—Ñ–µ: ${foodResults.success} –∏–∑ ${cartItems.length} –ø–æ–∑–∏—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ`;\n        if (foodResults.localItems.length > 0) {\n          message += `\\n‚ö†Ô∏è ${foodResults.localItems.length} –ø–æ–∑–∏—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ (–æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)`;\n        }\n        if (foodResults.errors.length > 0) {\n          message += `\\n‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å: ${foodResults.errors.length} –ø–æ–∑–∏—Ü–∏–π`;\n          console.warn('Failed food items:', foodResults.errors);\n        }\n        if (foodResults.failed > 0 || foodResults.localItems.length > 0) {\n          alert(message);\n        } else {\n          console.log(`‚úÖ All ${cartItems.length} food items added successfully`);\n        }\n      }\n      alert('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ! –ù–æ–º–µ—Ä –±—Ä–æ–Ω–∏: ' + bookingResponse.id);\n      localStorage.removeItem('lastBooking');\n      localStorage.removeItem('bookingStarted');\n      navigate('/');\n    } catch (error) {\n      console.error('Booking creation error:', error);\n      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');\n    } finally {\n      setProcessingPayment(false);\n    }\n  };\n\n  // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω–æ–º –ø—Ä–æ–º–æ–∫–æ–¥–µ\n  const renderPromoCodeInfo = () => {\n    if (!appliedPromoCode) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"promo-code-applied\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u2705 \\u041F\\u0440\\u0438\\u043C\\u0435\\u043D\\u0435\\u043D \\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434: \", appliedPromoCode.code]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 9\n      }, this), appliedPromoCode.discount && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\" (\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430: \", appliedPromoCode.discount, \"%)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 7\n    }, this);\n  };\n  console.log('üîç Current state:', {\n    bookingData: !!bookingData,\n    foodsCount: foods.length,\n    computersCount: computers.length,\n    clubsCount: clubs.length,\n    tariffData: !!tariffData,\n    computerInfo: !!computerInfo,\n    clubInfo: !!clubInfo\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"booking-confirmation\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/67f504fdfc00ad2f7d384258d27391b08ef7aabd.png\",\n        alt: \"Abstract background\",\n        className: \"bg-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-overlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 697,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirmation-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"confirmation-subtitle\",\n          children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u0435\\u0440\\u0435\\u0434 \\u043E\\u043F\\u043B\\u0430\\u0442\\u043E\\u0439\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"confirmation-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"booking-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u0431\\u0440\\u043E\\u043D\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 711,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-label\",\n                  children: \"\\u041C\\u0435\\u0441\\u0442\\u043E:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 715,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-value\",\n                  children: [\"\\u041C\\u0435\\u0441\\u0442\\u043E \\u2116\", place, \" (\", placeInfo.type, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 716,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 17\n              }, this), computerInfo && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"info-label\",\n                    children: \"\\u041A\\u043E\\u043C\\u043F\\u044C\\u044E\\u0442\\u0435\\u0440:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 722,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"info-value\",\n                    children: computerInfo.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 723,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"info-label\",\n                    children: \"\\u041F\\u0440\\u043E\\u0446\\u0435\\u0441\\u0441\\u043E\\u0440:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 726,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"info-value\",\n                    children: computerInfo.processor || '–ù–µ —É–∫–∞–∑–∞–Ω'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 727,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 725,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"info-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"info-label\",\n                    children: \"\\u0412\\u0438\\u0434\\u0435\\u043E\\u043A\\u0430\\u0440\\u0442\\u0430:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 730,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"info-value\",\n                    children: computerInfo.graphicsCard || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 731,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 729,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-label\",\n                  children: \"\\u0422\\u0430\\u0440\\u0438\\u0444:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 737,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-value\",\n                  children: [actualPlaceRate, \" \\u20BD/\\u0447\\u0430\\u0441\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-label\",\n                  children: \"\\u041A\\u043B\\u0443\\u0431:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 742,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-value\",\n                  children: clubInfo.address || address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 743,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 741,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-label\",\n                  children: \"\\u041D\\u0430\\u0447\\u0430\\u043B\\u043E:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 747,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-value\",\n                  children: [formatDateDisplay(dateFrom), \" \", timeFrom]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 748,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 746,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-label\",\n                  children: \"\\u041E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u0435:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 754,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-value\",\n                  children: [formatDateDisplay(dateTo), \" \", timeTo]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 755,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-label\",\n                  children: \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 761,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"info-value\",\n                  children: bookingHours > 0 ? `${bookingHours} —á–∞—Å–æ–≤` : '–ù–µ —É–∫–∞–∑–∞–Ω–æ'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 760,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u041F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"promo-code-section\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434\",\n                value: promoCode,\n                onChange: e => setPromoCode(e.target.value),\n                className: \"promo-code-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 773,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: applyPromoCode,\n                className: \"btn secondary\",\n                children: \"\\u041F\\u0440\\u0438\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 780,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 772,\n              columnNumber: 15\n            }, this), renderPromoCodeInfo()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 13\n          }, this), cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"\\u0417\\u0430\\u043A\\u0430\\u0437 \\u0438\\u0437 \\u043A\\u0430\\u0444\\u0435 (\", cartItems.length, \" \\u043F\\u043E\\u0437\\u0438\\u0446\\u0438\\u0439)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-items-list\",\n              children: cartItems.map(item => {\n                const foodInfo = getFoodInfo(item.id);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cart-item-confirm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-name\",\n                    children: foodInfo.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 798,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-quantity\",\n                    children: [\"x\", item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 799,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-price\",\n                    children: [foodInfo.price * item.quantity, \" \\u20BD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 800,\n                    columnNumber: 25\n                  }, this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 797,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"payment-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"payment-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0421\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 811,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cost-breakdown\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cost-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\u0410\\u0440\\u0435\\u043D\\u0434\\u0430 \\u043C\\u0435\\u0441\\u0442\\u0430 (\", bookingHours, \" \\u0447\\u0430\\u0441\\u043E\\u0432 \\xD7 \", actualPlaceRate, \" \\u20BD/\\u0447\\u0430\\u0441):\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 815,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [placeCost, \" \\u20BD\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 816,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 814,\n                columnNumber: 17\n              }, this), cartItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cost-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0417\\u0430\\u043A\\u0430\\u0437 \\u0438\\u0437 \\u043A\\u0430\\u0444\\u0435:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 821,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [totalPrice, \" \\u20BD\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 820,\n                columnNumber: 19\n              }, this), appliedPromoCode && discount.amount > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cost-item discount\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\u0421\\u043A\\u0438\\u0434\\u043A\\u0430 \\u043F\\u043E \\u043F\\u0440\\u043E\\u043C\\u043E\\u043A\\u043E\\u0434\\u0443 (\", appliedPromoCode.discount, \"%):\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 829,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"-\", discount.amount, \" \\u20BD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 830,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cost-item original-price\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u0418\\u0437\\u043D\\u0430\\u0447\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0441\\u0442\\u043E\\u0438\\u043C\\u043E\\u0441\\u0442\\u044C:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 833,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"strikethrough\",\n                    children: [baseCost, \" \\u20BD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 834,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cost-total\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0418\\u0442\\u043E\\u0433\\u043E \\u043A \\u043E\\u043F\\u043B\\u0430\\u0442\\u0435:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 840,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-amount\",\n                  children: [finalCost, \" \\u20BD\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 841,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 813,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn payment-btn primary\",\n                onClick: handlePayment,\n                disabled: processingPayment,\n                children: processingPayment ? '–û–±—Ä–∞–±–æ—Ç–∫–∞...' : `–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ ${finalCost} ‚ÇΩ`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn secondary\",\n                onClick: handleSimplePayment,\n                disabled: processingPayment,\n                style: {\n                  marginTop: '10px'\n                },\n                children: processingPayment ? '–°–æ–∑–¥–∞–Ω–∏–µ...' : '–°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω—å –±–µ–∑ –æ–ø–ª–∞—Ç—ã (—Ç–µ—Å—Ç)'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 854,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn secondary\",\n                onClick: handleEditBooking,\n                disabled: processingPayment,\n                children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0431\\u0440\\u043E\\u043D\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn secondary\",\n                onClick: handleBackToHome,\n                disabled: processingPayment,\n                children: \"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 870,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-security\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"security-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"security-icon\",\n                  children: \"\\uD83D\\uDD12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 881,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u0411\\u0435\\u0437\\u043E\\u043F\\u0430\\u0441\\u043D\\u0430\\u044F \\u043E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u0447\\u0435\\u0440\\u0435\\u0437 CloudPayments\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 882,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 880,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"security-note\",\n                children: \"\\u041F\\u043E\\u0441\\u043B\\u0435 \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B \\u0432\\u044B \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u043D\\u0430 email \\u0438 \\u0441\\u043C\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 884,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 879,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"support-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\u041D\\u0443\\u0436\\u043D\\u0430 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 891,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u0438: +7 (999) 123-45-67\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 892,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Email: support@cyberclub.ru\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 893,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 890,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 809,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"debug-info\",\n        style: {\n          background: 'rgba(255,255,255,0.1)',\n          padding: '15px',\n          borderRadius: '8px',\n          marginTop: '20px',\n          color: 'white',\n          fontSize: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDD27 \\u041E\\u0442\\u043B\\u0430\\u0434\\u043E\\u0447\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 53\n        }, this), \"- \\u0414\\u0430\\u043D\\u043D\\u044B\\u0435 \\u0438\\u0437 localStorage: \", bookingData ? '‚úÖ' : '‚ùå', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 62\n        }, this), \"- \\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0435\\u043D\\u043E \\u0431\\u043B\\u044E\\u0434: \", foods.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 43\n        }, this), \"- \\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0435\\u043D\\u043E \\u043A\\u043E\\u043C\\u043F\\u044C\\u044E\\u0442\\u0435\\u0440\\u043E\\u0432: \", computers.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 54\n        }, this), \"- \\u0417\\u0430\\u0433\\u0440\\u0443\\u0436\\u0435\\u043D\\u043E \\u043A\\u043B\\u0443\\u0431\\u043E\\u0432: \", clubs.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 911,\n          columnNumber: 45\n        }, this), \"- \\u0422\\u0430\\u0440\\u0438\\u0444: \", tariffData ? '‚úÖ' : '‚ùå', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 912,\n          columnNumber: 44\n        }, this), \"- \\u0418\\u043D\\u0444\\u043E \\u043E \\u043A\\u043E\\u043C\\u043F\\u044C\\u044E\\u0442\\u0435\\u0440\\u0435: \", computerInfo ? '‚úÖ' : '‚ùå', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 913,\n          columnNumber: 58\n        }, this), \"- \\u0418\\u043D\\u0444\\u043E \\u043E \\u043A\\u043B\\u0443\\u0431\\u0435: \", clubInfo ? '‚úÖ' : '‚ùå']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 899,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 702,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 696,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingConfirmation, \"5I8HfGokytcXEARPizbUCI9spCY=\");\n_c = BookingConfirmation;\nexport default BookingConfirmation;\nvar _c;\n$RefreshReg$(_c, \"BookingConfirmation\");","map":{"version":3,"names":["React","useState","useEffect","apiService","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","BookingConfirmation","_s","bookingData","setBookingData","loading","setLoading","processingPayment","setProcessingPayment","promoCode","setPromoCode","appliedPromoCode","setAppliedPromoCode","tariffData","setTariffData","computers","setComputers","foods","setFoods","clubs","setClubs","loadBookingData","savedData","localStorage","getItem","console","log","parsedData","JSON","parse","warn","error","loadAdditionalData","foodsData","computersData","clubsData","Promise","all","getFoods","catch","getComputers","getClubs","length","tariff","getTariff","e","request","tariffError","coefficient","saveLocalFoodItems","bookingId","foodItems","localFoodData","items","timestamp","Date","toISOString","setItem","stringify","saveFoodOrderSummary","cartItems","totalPrice","orderSummary","map","item","name","food_id","id","quantity","price","total","data","formData","selectedPlace","placeRate","calculatedData","place","dateFrom","timeFrom","dateTo","timeTo","address","computer_id","club_id","getComputerInfo","computerId","computer","find","c","processor","graphicsCard","graphics_card","ram","monitor","headphones","keyboard","mouse","getClubInfo","clubId","club","getFoodInfo","foodId","food","f","getPlaceInfo","placeNumber","placeInfo","type","actualPlaceRate","computerInfo","clubInfo","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","href","style","marginLeft","formatDateDisplay","dateString","year","month","day","split","Number","date","today","setHours","tomorrow","setDate","getDate","toDateString","toLocaleDateString","weekday","getBookingHours","startDateTime","endDateTime","hoursDiff","Math","round","calculateBaseCost","totalCost","hours","placeCost","calculateDiscount","baseCost","percent","amount","discountPercent","discountAmount","calculateFinalCost","discount","bookingHours","finalCost","applyPromoCode","trim","alert","promoData","promoCodes","getPromoCodes","p","code","apiError","discount_percent","discount_type","handleEditBooking","handleBackToHome","handlePayment","bookingMinutes","placeCostValue","totalCostValue","bookingDataToSend","parseInt","user_id","tariff_id","code_id","start_time","end_time","minutes","price_for_pc","price_for_additions","total_price","status","bookingResponse","createBooking","paymentData","booking_id","payment_type","payment_hash","now","random","toString","substr","payment_date","paymentResponse","createPayment","foodResults","success","failed","errors","localItems","foodPromises","count","foodResponse","addFoodToBooking","local_only","push","foodError","message","allSettled","updatedBookingData","payment_id","removeItem","navigate","handleSimplePayment","renderPromoCodeInfo","foodsCount","computersCount","clubsCount","src","alt","placeholder","value","onChange","target","foodInfo","disabled","marginTop","background","padding","borderRadius","color","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/Ksenia/Desktop/–∫–æ–º–ø_–∫–ª—É–±/gaming-club-react/src/components/BookingConfirmation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { apiService } from '../services/Api';\r\nimport '../styles/BookingConfirmation.css';\r\nimport { useNavigate } from 'react-router-dom';\r\nconst BookingConfirmation = () => {\r\n  const [bookingData, setBookingData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [processingPayment, setProcessingPayment] = useState(false);\r\n  const [promoCode, setPromoCode] = useState('');\r\n  const [appliedPromoCode, setAppliedPromoCode] = useState(null);\r\n  const [tariffData, setTariffData] = useState(null);\r\n  const [computers, setComputers] = useState([]);\r\n  const [foods, setFoods] = useState([]);\r\n  const [clubs, setClubs] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    const loadBookingData = () => {\r\n      try {\r\n        const savedData = localStorage.getItem('lastBooking');\r\n        console.log('üì¶ Loading booking data from localStorage:', savedData);\r\n        \r\n        if (savedData) {\r\n          const parsedData = JSON.parse(savedData);\r\n          setBookingData(parsedData);\r\n          console.log('‚úÖ Booking data loaded successfully');\r\n        } else {\r\n          console.warn('‚ùå No booking data found in localStorage');\r\n        }\r\n      } catch (error) {\r\n        console.error('‚ùå Error loading booking data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadBookingData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const loadAdditionalData = async () => {\r\n      if (!bookingData) return;\r\n      \r\n      try {\r\n        console.log('üîÑ Loading additional data from API...');\r\n        \r\n        const [foodsData, computersData, clubsData] = await Promise.all([\r\n          apiService.getFoods().catch(error => {\r\n            console.error('‚ùå Error loading foods:', error);\r\n            return [];\r\n          }),\r\n          apiService.getComputers().catch(error => {\r\n            console.error('‚ùå Error loading computers:', error);\r\n            return [];\r\n          }),\r\n          apiService.getClubs().catch(error => {\r\n            console.error('‚ùå Error loading clubs:', error);\r\n            return [];\r\n          })\r\n        ]);\r\n        \r\n        console.log('üìä API Data loaded:', {\r\n          foods: foodsData.length,\r\n          computers: computersData.length,\r\n          clubs: clubsData.length\r\n        });\r\n        \r\n        setFoods(foodsData);\r\n        setComputers(computersData);\r\n        setClubs(clubsData);\r\n        \r\n        try {\r\n          let tariff;\r\n          try {\r\n            tariff = await apiService.getTariff(1);\r\n          } catch (e) {\r\n            console.log('‚ö†Ô∏è Trying alternative tariff endpoint...');\r\n            tariff = await apiService.request('/tariffs/1');\r\n          }\r\n          console.log('üí∞ Tariff data loaded:', tariff);\r\n          setTariffData(tariff);\r\n        } catch (tariffError) {\r\n          console.error('‚ùå Error loading tariff:', tariffError);\r\n          setTariffData({ coefficient: 1 });\r\n        }\r\n        \r\n      } catch (error) {\r\n        console.error('‚ùå Error loading additional data:', error);\r\n      }\r\n    };\r\n\r\n    loadAdditionalData();\r\n  }, [bookingData]);\r\n\r\n  // –ú–µ—Ç–æ–¥ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –æ –µ–¥–µ\r\n  const saveLocalFoodItems = (bookingId, foodItems) => {\r\n    try {\r\n      const localFoodData = {\r\n        bookingId: bookingId,\r\n        items: foodItems,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n      \r\n      localStorage.setItem(`local_food_${bookingId}`, JSON.stringify(localFoodData));\r\n      console.log('üíæ Local food data saved:', localFoodData);\r\n    } catch (error) {\r\n      console.error('‚ùå Error saving local food data:', error);\r\n    }\r\n  };\r\n\r\n  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–≤–æ–¥–∫—É –∑–∞–∫–∞–∑–∞ –µ–¥—ã\r\n  const saveFoodOrderSummary = (bookingId, cartItems, totalPrice) => {\r\n    try {\r\n      const orderSummary = {\r\n        bookingId: bookingId,\r\n        items: cartItems.map(item => ({\r\n          name: item.name,\r\n          food_id: item.id,\r\n          quantity: item.quantity,\r\n          price: item.price\r\n        })),\r\n        total: totalPrice,\r\n        timestamp: new Date().toISOString()\r\n      };\r\n      \r\n      localStorage.setItem(`food_order_${bookingId}`, JSON.stringify(orderSummary));\r\n      console.log('üìã Food order summary saved for manual processing:', orderSummary);\r\n    } catch (error) {\r\n      console.error('‚ùå Error saving food order summary:', error);\r\n    }\r\n  };\r\n\r\n  const data = bookingData || {};\r\n\r\n  const {\r\n    formData = {},\r\n    selectedPlace,\r\n    placeRate,\r\n    cartItems = [],\r\n    totalPrice = 0,\r\n    calculatedData = {}\r\n  } = data;\r\n\r\n  const {\r\n    place = '',\r\n    dateFrom = '',\r\n    timeFrom = '',\r\n    dateTo = '',\r\n    timeTo = '',\r\n    address = '',\r\n    computer_id = '',\r\n    club_id = ''\r\n  } = formData;\r\n\r\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ\r\n  const getComputerInfo = (computerId) => {\r\n    if (!computerId) return null;\r\n    \r\n    const computer = computers.find(c => c.id == computerId);\r\n    if (!computer) {\r\n      console.log(`‚ùå Computer not found for ID: ${computerId}`);\r\n      console.log('Available computers:', computers.map(c => ({ id: c.id, name: c.name })));\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      id: computer.id,\r\n      name: computer.name || `–ö–æ–º–ø—å—é—Ç–µ—Ä ${computer.id}`,\r\n      price: computer.price,\r\n      processor: computer.processor,\r\n      graphicsCard: computer.graphics_card,\r\n      ram: computer.ram,\r\n      monitor: computer.monitor,\r\n      headphones: computer.headphones,\r\n      keyboard: computer.keyboard,\r\n      mouse: computer.mouse\r\n    };\r\n  };\r\n\r\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª—É–±–µ\r\n  const getClubInfo = (clubId) => {\r\n    if (!clubId) return { address: '–ù–µ —É–∫–∞–∑–∞–Ω', name: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–ª—É–±' };\r\n    \r\n    const club = clubs.find(c => c.id == clubId);\r\n    if (!club) {\r\n      console.log(`‚ùå Club not found for ID: ${clubId}`);\r\n      return { address: `–ö–ª—É–± #${clubId}`, name: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –∫–ª—É–±' };\r\n    }\r\n\r\n    return club;\r\n  };\r\n\r\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –µ–¥–µ\r\n  const getFoodInfo = (foodId) => {\r\n    const food = foods.find(f => f.id == foodId);\r\n    if (!food) {\r\n      console.log(`‚ùå Food not found for ID: ${foodId}`);\r\n      return { name: `–ü—Ä–æ–¥—É–∫—Ç #${foodId}`, price: 0 };\r\n    }\r\n    return food;\r\n  };\r\n\r\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –º–µ—Å—Ç–µ\r\n  const getPlaceInfo = (placeNumber) => {\r\n    const placeInfo = {\r\n      1: { type: \"Gaming PC\" },\r\n      2: { type: \"Gaming PC\" },\r\n      3: { type: \"Gaming PC\" },\r\n      4: { type: \"Gaming PC\" },\r\n      5: { type: \"Streaming PC\" },\r\n      6: { type: \"Competitive PC\" },\r\n      8: { type: \"PlayStation 5\" },\r\n      9: { type: \"PlayStation 5 Pro\" },\r\n      10: { type: \"VR Station\" },\r\n      11: { type: \"Audio Station\" },\r\n      12: { type: \"PlayStation 4 Pro\" },\r\n      13: { type: \"Nintendo Switch\" },\r\n      14: { type: \"Premium Audio\" }\r\n    };\r\n    return placeInfo[placeNumber] || { type: \"–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º–µ—Å—Ç–æ\" };\r\n  };\r\n\r\n  const placeInfo = getPlaceInfo(selectedPlace);\r\n  const actualPlaceRate = placeRate;\r\n  const computerInfo = getComputerInfo(computer_id);\r\n  const clubInfo = getClubInfo(club_id);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"booking-confirmation\">\r\n        <div className=\"container\">\r\n          <div className=\"loading-state\">\r\n            <h2>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è...</h2>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!bookingData || !selectedPlace) {\r\n    return (\r\n      <div className=\"booking-confirmation\">\r\n        <div className=\"container\">\r\n          <div className=\"no-booking-data\">\r\n            <h2>–î–∞–Ω–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h2>\r\n            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∏ —Å–æ–∑–¥–∞–π—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–Ω–æ–≤–æ.</p>\r\n            <button \r\n              className=\"btn primary\"\r\n              onClick={() => window.location.href = '/booking'}\r\n            >\r\n              –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é\r\n            </button>\r\n            <button \r\n              className=\"btn secondary\"\r\n              onClick={() => window.location.href = '/'}\r\n              style={{marginLeft: '10px'}}\r\n            >\r\n              –ù–∞ –≥–ª–∞–≤–Ω—É—é\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è\r\n  const formatDateDisplay = (dateString) => {\r\n    if (!dateString) return '';\r\n    const [year, month, day] = dateString.split('-').map(Number);\r\n    const date = new Date(year, month - 1, day);\r\n    \r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    \r\n    const tomorrow = new Date(today);\r\n    tomorrow.setDate(tomorrow.getDate() + 1);\r\n    \r\n    if (date.toDateString() === today.toDateString()) {\r\n      return '–°–µ–≥–æ–¥–Ω—è';\r\n    } else if (date.toDateString() === tomorrow.toDateString()) {\r\n      return '–ó–∞–≤—Ç—Ä–∞';\r\n    } else {\r\n      return date.toLocaleDateString('ru-RU', {\r\n        day: 'numeric',\r\n        month: 'long',\r\n        weekday: 'short'\r\n      });\r\n    }\r\n  };\r\n\r\n  // –†–∞—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞—Å–æ–≤\r\n  const getBookingHours = () => {\r\n    if (!dateFrom || !timeFrom || !dateTo || !timeTo) return 0;\r\n    \r\n    try {\r\n      const startDateTime = new Date(`${dateFrom}T${timeFrom}`);\r\n      const endDateTime = new Date(`${dateTo}T${timeTo}`);\r\n      const hoursDiff = (endDateTime - startDateTime) / (1000 * 60 * 60);\r\n      \r\n      return Math.round(hoursDiff * 10) / 10;\r\n    } catch (error) {\r\n      console.error('Error calculating booking hours:', error);\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  // –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –±–µ–∑ —Å–∫–∏–¥–∫–∏\r\n  const calculateBaseCost = () => {\r\n    if (calculatedData && calculatedData.totalCost) {\r\n      return calculatedData.totalCost;\r\n    }\r\n    \r\n    if (!dateFrom || !timeFrom || !dateTo || !timeTo) return 0;\r\n    \r\n    try {\r\n      const startDateTime = new Date(`${dateFrom}T${timeFrom}`);\r\n      const endDateTime = new Date(`${dateTo}T${timeTo}`);\r\n      const hours = (endDateTime - startDateTime) / (1000 * 60 * 60);\r\n      \r\n      const placeCost = Math.round(hours * actualPlaceRate);\r\n      return placeCost + totalPrice;\r\n    } catch (error) {\r\n      console.error('Error calculating booking cost:', error);\r\n      return totalPrice;\r\n    }\r\n  };\r\n\r\n  const calculateDiscount = (baseCost) => {\r\n    if (!appliedPromoCode) return { percent: 0, amount: 0 };\r\n    \r\n    const coefficient = tariffData?.coefficient || (appliedPromoCode.coefficient || 0.9);\r\n    \r\n    const discountPercent = Math.round((1 - coefficient) * 100);\r\n    const discountAmount = baseCost * (1 - coefficient);\r\n    \r\n    return {\r\n      percent: discountPercent,\r\n      amount: Math.round(discountAmount)\r\n    };\r\n  };\r\n\r\n  const calculateFinalCost = () => {\r\n    const baseCost = calculateBaseCost();\r\n    \r\n    if (!appliedPromoCode) {\r\n      return baseCost;\r\n    }\r\n    \r\n    const discount = calculateDiscount(baseCost);\r\n    return baseCost - discount.amount;\r\n  };\r\n\r\n  const bookingHours = getBookingHours();\r\n  const baseCost = calculateBaseCost();\r\n  const finalCost = calculateFinalCost();\r\n  const discount = calculateDiscount(baseCost);\r\n  const placeCost = calculatedData?.placeCost || Math.round(bookingHours * actualPlaceRate);\r\n\r\n  const applyPromoCode = async () => {\r\n    if (!promoCode.trim()) {\r\n      alert('–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      console.log('üîç Applying promo code:', promoCode);\r\n      \r\n      let promoData;\r\n      try {\r\n        const promoCodes = await apiService.getPromoCodes();\r\n        promoData = promoCodes.find(p => p.code === promoCode);\r\n        console.log('üîç Found promo code in API:', promoData);\r\n      } catch (apiError) {\r\n        console.log('‚ö†Ô∏è Cannot load promocodes from API, using default');\r\n      }\r\n      \r\n      if (promoData) {\r\n        setAppliedPromoCode({\r\n          id: promoData.id,\r\n          code: promoData.code,\r\n          discount: promoData.discount_percent || 10,\r\n          discount_type: 'percent',\r\n          coefficient: promoData.coefficient || 0.9\r\n        });\r\n      } else {\r\n        const coefficient = 0.9; \r\n        const discountPercent = Math.round((1 - coefficient) * 100);\r\n        \r\n        setAppliedPromoCode({\r\n          id: 1,\r\n          code: promoCode,\r\n          discount: discountPercent,\r\n          discount_type: 'percent',\r\n          coefficient: coefficient\r\n        });\r\n      }\r\n      \r\n      alert(`–ü—Ä–æ–º–æ–∫–æ–¥ \"${promoCode}\" –ø—Ä–∏–º–µ–Ω–µ–Ω! –°–∫–∏–¥–∫–∞: ${appliedPromoCode?.discount || 10}%`);\r\n      \r\n    } catch (error) {\r\n      console.error('Promo code error:', error);\r\n      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞');\r\n    }\r\n  };\r\n\r\n  const handleEditBooking = () => {\r\n    window.location.href = '/booking';\r\n  };\r\n\r\n  const handleBackToHome = () => {\r\n    window.location.href = '/';\r\n  };\r\n\r\n  const handlePayment = async () => {\r\n    try {\r\n      setProcessingPayment(true);\r\n      \r\n      console.log('üîÑ Creating booking in database...');\r\n      \r\n      const bookingMinutes = getBookingHours() * 60;\r\n      const placeCostValue = Math.round((bookingMinutes / 60) * actualPlaceRate);\r\n      const totalCostValue = finalCost;\r\n\r\n      const bookingDataToSend = {\r\n        computer_id: parseInt(computer_id) || 1,\r\n        user_id: 1,\r\n        club_id: parseInt(club_id) || 1,\r\n        tariff_id: 1,\r\n        code_id: appliedPromoCode ? appliedPromoCode.id : 1,\r\n        start_time: `${dateFrom} ${timeFrom}:00`,\r\n        end_time: `${dateTo} ${timeTo}:00`,\r\n        minutes: bookingMinutes,\r\n        price_for_pc: placeCostValue,\r\n        price_for_additions: totalPrice,\r\n        total_price: totalCostValue,\r\n        status: 'pending'\r\n      };\r\n\r\n      console.log('üì§ Sending booking to API:', bookingDataToSend);\r\n      \r\n      const bookingResponse = await apiService.createBooking(bookingDataToSend);\r\n      console.log('‚úÖ Booking created:', bookingResponse);\r\n\r\n      console.log('üîÑ Creating payment...');\r\n      \r\n      const paymentData = {\r\n        user_id: 1,\r\n        booking_id: bookingResponse.id,\r\n        price: totalCostValue,\r\n        payment_type: 'card',\r\n        status: 'pending',\r\n        payment_hash: `pay_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\r\n        payment_date: new Date().toISOString().split('T')[0]\r\n      };\r\n\r\n      console.log('üì§ Sending payment to API:', paymentData);\r\n\r\n      const paymentResponse = await apiService.createPayment(paymentData);\r\n      console.log('‚úÖ Payment created:', paymentResponse);\r\n\r\n      if (cartItems.length > 0) {\r\n        console.log('üîÑ Adding food items to booking...');\r\n        \r\n        let foodResults = {\r\n          success: 0,\r\n          failed: 0,\r\n          errors: [],\r\n          localItems: []\r\n        };\r\n        \r\n        const foodPromises = cartItems.map(async (item) => {\r\n          try {\r\n            console.log(`üì§ Adding food item:`, {\r\n              booking_id: bookingResponse.id,\r\n              food_id: item.id,\r\n              count: item.quantity\r\n            });\r\n            \r\n            const foodResponse = await apiService.addFoodToBooking(bookingResponse.id, {\r\n              food_id: item.id,\r\n              count: item.quantity\r\n            });\r\n            \r\n            console.log(`‚úÖ Added ${item.name} to booking:`, foodResponse);\r\n            \r\n            if (foodResponse.local_only) {\r\n              foodResults.localItems.push({\r\n                name: item.name,\r\n                food_id: item.id,\r\n                count: item.quantity\r\n              });\r\n            }\r\n            \r\n            foodResults.success++;\r\n            return { success: true, item: item.name, data: foodResponse };\r\n            \r\n          } catch (foodError) {\r\n            console.error(`‚ùå Error adding ${item.name} to booking:`, foodError);\r\n            foodResults.failed++;\r\n            foodResults.errors.push({\r\n              item: item.name,\r\n              error: foodError.message\r\n            });\r\n            \r\n            return { success: false, item: item.name, error: foodError };\r\n          }\r\n        });\r\n        \r\n        await Promise.allSettled(foodPromises);\r\n        \r\n        if (foodResults.localItems.length > 0) {\r\n          saveLocalFoodItems(bookingResponse.id, foodResults.localItems);\r\n        }\r\n        \r\n        saveFoodOrderSummary(bookingResponse.id, cartItems, totalPrice);\r\n        \r\n        let message = `–ó–∞–∫–∞–∑ –∏–∑ –∫–∞—Ñ–µ: ${foodResults.success} –∏–∑ ${cartItems.length} –ø–æ–∑–∏—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ`;\r\n        \r\n        if (foodResults.localItems.length > 0) {\r\n          message += `\\n‚ö†Ô∏è ${foodResults.localItems.length} –ø–æ–∑–∏—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ (–æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)`;\r\n        }\r\n        \r\n        if (foodResults.errors.length > 0) {\r\n          message += `\\n‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å: ${foodResults.errors.length} –ø–æ–∑–∏—Ü–∏–π`;\r\n          console.warn('Failed food items:', foodResults.errors);\r\n        }\r\n        \r\n        if (foodResults.failed > 0 || foodResults.localItems.length > 0) {\r\n          alert(message);\r\n        } else {\r\n          console.log(`‚úÖ All ${cartItems.length} food items added successfully`);\r\n        }\r\n      }\r\n\r\n      const updatedBookingData = {\r\n        ...bookingData,\r\n        id: bookingResponse.id,\r\n        payment_id: paymentResponse.id,\r\n        status: 'pending_payment'\r\n      };\r\n\r\n      localStorage.setItem('lastBooking', JSON.stringify(updatedBookingData));\r\n\r\n      alert('–ü–ª–∞—Ç–µ–∂ –æ–±—Ä–∞–±–æ—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ! –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ.');\r\n      localStorage.removeItem('lastBooking');\r\n      localStorage.removeItem('bookingStarted');\r\n      navigate('/');\r\n\r\n    } catch (error) {\r\n      console.error('Payment error:', error);\r\n      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–ª–∞—Ç–µ–∂–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');\r\n    } finally {\r\n      setProcessingPayment(false);\r\n    }\r\n  };\r\n\r\n  // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –±–µ–∑ –æ–ø–ª–∞—Ç—ã\r\n  const handleSimplePayment = async () => {\r\n    try {\r\n      setProcessingPayment(true);\r\n      \r\n      console.log('üîÑ Creating booking without payment...');\r\n      \r\n      const bookingMinutes = getBookingHours() * 60;\r\n      const placeCostValue = Math.round((bookingMinutes / 60) * actualPlaceRate);\r\n      const totalCostValue = finalCost;\r\n      const bookingDataToSend = {\r\n        computer_id: parseInt(computer_id) || 1,\r\n        user_id: 1,\r\n        club_id: parseInt(club_id) || 1,\r\n        tariff_id: 1,\r\n        code_id: appliedPromoCode ? appliedPromoCode.id : 1,\r\n        start_time: `${dateFrom} ${timeFrom}:00`,\r\n        end_time: `${dateTo} ${timeTo}:00`,\r\n        minutes: bookingMinutes,\r\n        price_for_pc: placeCostValue,\r\n        price_for_additions: totalPrice,\r\n        total_price: totalCostValue,\r\n        status: 'confirmed'\r\n      };\r\n\r\n      console.log('üì§ Sending booking to API:', bookingDataToSend);\r\n      \r\n      const bookingResponse = await apiService.createBooking(bookingDataToSend);\r\n      console.log('‚úÖ Booking created:', bookingResponse);\r\n      if (cartItems.length > 0) {\r\n        console.log('üîÑ Adding food items to booking...');\r\n        \r\n        let foodResults = {\r\n          success: 0,\r\n          failed: 0,\r\n          errors: [],\r\n          localItems: []\r\n        };\r\n        \r\n        const foodPromises = cartItems.map(async (item) => {\r\n          try {\r\n            console.log(`üì§ Adding food item:`, {\r\n              booking_id: bookingResponse.id,\r\n              food_id: item.id,\r\n              count: item.quantity\r\n            });\r\n            \r\n            const foodResponse = await apiService.addFoodToBooking(bookingResponse.id, {\r\n              food_id: item.id,\r\n              count: item.quantity\r\n            });\r\n            \r\n            console.log(`‚úÖ Added ${item.name} to booking:`, foodResponse);\r\n            \r\n            if (foodResponse.local_only) {\r\n              foodResults.localItems.push({\r\n                name: item.name,\r\n                food_id: item.id,\r\n                count: item.quantity\r\n              });\r\n            }\r\n            \r\n            foodResults.success++;\r\n            return { success: true, item: item.name, data: foodResponse };\r\n            \r\n          } catch (foodError) {\r\n            console.error(`‚ùå Error adding ${item.name} to booking:`, foodError);\r\n            foodResults.failed++;\r\n            foodResults.errors.push({\r\n              item: item.name,\r\n              error: foodError.message\r\n            });\r\n            \r\n            return { success: false, item: item.name, error: foodError };\r\n          }\r\n        });\r\n        \r\n        await Promise.allSettled(foodPromises);\r\n        \r\n        if (foodResults.localItems.length > 0) {\r\n          saveLocalFoodItems(bookingResponse.id, foodResults.localItems);\r\n        }\r\n        \r\n        saveFoodOrderSummary(bookingResponse.id, cartItems, totalPrice);\r\n        \r\n        let message = `–ó–∞–∫–∞–∑ –∏–∑ –∫–∞—Ñ–µ: ${foodResults.success} –∏–∑ ${cartItems.length} –ø–æ–∑–∏—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ`;\r\n        \r\n        if (foodResults.localItems.length > 0) {\r\n          message += `\\n‚ö†Ô∏è ${foodResults.localItems.length} –ø–æ–∑–∏—Ü–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ (–æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞)`;\r\n        }\r\n        \r\n        if (foodResults.errors.length > 0) {\r\n          message += `\\n‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å: ${foodResults.errors.length} –ø–æ–∑–∏—Ü–∏–π`;\r\n          console.warn('Failed food items:', foodResults.errors);\r\n        }\r\n        \r\n        if (foodResults.failed > 0 || foodResults.localItems.length > 0) {\r\n          alert(message);\r\n        } else {\r\n          console.log(`‚úÖ All ${cartItems.length} food items added successfully`);\r\n        }\r\n      }\r\n\r\n      alert('–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ! –ù–æ–º–µ—Ä –±—Ä–æ–Ω–∏: ' + bookingResponse.id);\r\n      localStorage.removeItem('lastBooking');\r\n      localStorage.removeItem('bookingStarted');\r\n      navigate('/');\r\n\r\n    } catch (error) {\r\n      console.error('Booking creation error:', error);\r\n      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');\r\n    } finally {\r\n      setProcessingPayment(false);\r\n    }\r\n  };\r\n\r\n  // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω–æ–º –ø—Ä–æ–º–æ–∫–æ–¥–µ\r\n  const renderPromoCodeInfo = () => {\r\n    if (!appliedPromoCode) return null;\r\n\r\n    return (\r\n      <div className=\"promo-code-applied\">\r\n        <span>‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω –ø—Ä–æ–º–æ–∫–æ–¥: {appliedPromoCode.code}</span>\r\n        {appliedPromoCode.discount && (\r\n          <span> (–°–∫–∏–¥–∫–∞: {appliedPromoCode.discount}%)</span>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  console.log('üîç Current state:', {\r\n    bookingData: !!bookingData,\r\n    foodsCount: foods.length,\r\n    computersCount: computers.length,\r\n    clubsCount: clubs.length,\r\n    tariffData: !!tariffData,\r\n    computerInfo: !!computerInfo,\r\n    clubInfo: !!clubInfo\r\n  });\r\n\r\n  return (\r\n    <div className=\"booking-confirmation\">\r\n      <div className=\"background-container\">\r\n        <img src=\"/images/67f504fdfc00ad2f7d384258d27391b08ef7aabd.png\" alt=\"Abstract background\" className=\"bg-image\" />\r\n        <div className=\"bg-overlay\"></div>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"confirmation-header\">\r\n          <h1>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h1>\r\n          <p className=\"confirmation-subtitle\">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π</p>\r\n        </div>\r\n\r\n        <div className=\"confirmation-content\">\r\n          <div className=\"booking-info\">\r\n            <div className=\"info-section\">\r\n              <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–æ–Ω–∏</h2>\r\n              \r\n              <div className=\"info-grid\">\r\n                <div className=\"info-item\">\r\n                  <span className=\"info-label\">–ú–µ—Å—Ç–æ:</span>\r\n                  <span className=\"info-value\">–ú–µ—Å—Ç–æ ‚Ññ{place} ({placeInfo.type})</span>\r\n                </div>\r\n                \r\n                {computerInfo && (\r\n                  <>\r\n                    <div className=\"info-item\">\r\n                      <span className=\"info-label\">–ö–æ–º–ø—å—é—Ç–µ—Ä:</span>\r\n                      <span className=\"info-value\">{computerInfo.name}</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                      <span className=\"info-label\">–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:</span>\r\n                      <span className=\"info-value\">{computerInfo.processor || '–ù–µ —É–∫–∞–∑–∞–Ω'}</span>\r\n                    </div>\r\n                    <div className=\"info-item\">\r\n                      <span className=\"info-label\">–í–∏–¥–µ–æ–∫–∞—Ä—Ç–∞:</span>\r\n                      <span className=\"info-value\">{computerInfo.graphicsCard || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}</span>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                \r\n                <div className=\"info-item\">\r\n                  <span className=\"info-label\">–¢–∞—Ä–∏—Ñ:</span>\r\n                  <span className=\"info-value\">{actualPlaceRate} ‚ÇΩ/—á–∞—Å</span>\r\n                </div>\r\n                \r\n                <div className=\"info-item\">\r\n                  <span className=\"info-label\">–ö–ª—É–±:</span>\r\n                  <span className=\"info-value\">{clubInfo.address || address}</span>\r\n                </div>\r\n                \r\n                <div className=\"info-item\">\r\n                  <span className=\"info-label\">–ù–∞—á–∞–ª–æ:</span>\r\n                  <span className=\"info-value\">\r\n                    {formatDateDisplay(dateFrom)} {timeFrom}\r\n                  </span>\r\n                </div>\r\n                \r\n                <div className=\"info-item\">\r\n                  <span className=\"info-label\">–û–∫–æ–Ω—á–∞–Ω–∏–µ:</span>\r\n                  <span className=\"info-value\">\r\n                    {formatDateDisplay(dateTo)} {timeTo}\r\n                  </span>\r\n                </div>\r\n                \r\n                <div className=\"info-item\">\r\n                  <span className=\"info-label\">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</span>\r\n                  <span className=\"info-value\">\r\n                    {bookingHours > 0 ? `${bookingHours} —á–∞—Å–æ–≤` : '–ù–µ —É–∫–∞–∑–∞–Ω–æ'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* –ü—Ä–æ–º–æ–∫–æ–¥ */}\r\n            <div className=\"info-section\">\r\n              <h2>–ü—Ä–æ–º–æ–∫–æ–¥</h2>\r\n              <div className=\"promo-code-section\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥\"\r\n                  value={promoCode}\r\n                  onChange={(e) => setPromoCode(e.target.value)}\r\n                  className=\"promo-code-input\"\r\n                />\r\n                <button \r\n                  onClick={applyPromoCode}\r\n                  className=\"btn secondary\"\r\n                >\r\n                  –ü—Ä–∏–º–µ–Ω–∏—Ç—å\r\n                </button>\r\n              </div>\r\n              {renderPromoCodeInfo()}\r\n            </div>\r\n\r\n            {cartItems.length > 0 && (\r\n              <div className=\"info-section\">\r\n                <h2>–ó–∞–∫–∞–∑ –∏–∑ –∫–∞—Ñ–µ ({cartItems.length} –ø–æ–∑–∏—Ü–∏–π)</h2>\r\n                <div className=\"cart-items-list\">\r\n                  {cartItems.map(item => {\r\n                    const foodInfo = getFoodInfo(item.id);\r\n                    return (\r\n                      <div key={item.id} className=\"cart-item-confirm\">\r\n                        <span className=\"item-name\">{foodInfo.name}</span>\r\n                        <span className=\"item-quantity\">x{item.quantity}</span>\r\n                        <span className=\"item-price\">{foodInfo.price * item.quantity} ‚ÇΩ</span>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"payment-section\">\r\n            <div className=\"payment-card\">\r\n              <h3>–°—Ç–æ–∏–º–æ—Å—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h3>\r\n              \r\n              <div className=\"cost-breakdown\">\r\n                <div className=\"cost-item\">\r\n                  <span>–ê—Ä–µ–Ω–¥–∞ –º–µ—Å—Ç–∞ ({bookingHours} —á–∞—Å–æ–≤ √ó {actualPlaceRate} ‚ÇΩ/—á–∞—Å):</span>\r\n                  <span>{placeCost} ‚ÇΩ</span>\r\n                </div>\r\n                \r\n                {cartItems.length > 0 && (\r\n                  <div className=\"cost-item\">\r\n                    <span>–ó–∞–∫–∞–∑ –∏–∑ –∫–∞—Ñ–µ:</span>\r\n                    <span>{totalPrice} ‚ÇΩ</span>\r\n                  </div>\r\n                )}\r\n\r\n                {appliedPromoCode && discount.amount > 0 && (\r\n                  <>\r\n                    <div className=\"cost-item discount\">\r\n                      <span>–°–∫–∏–¥–∫–∞ –ø–æ –ø—Ä–æ–º–æ–∫–æ–¥—É ({appliedPromoCode.discount}%):</span>\r\n                      <span>-{discount.amount} ‚ÇΩ</span>\r\n                    </div>\r\n                    <div className=\"cost-item original-price\">\r\n                      <span>–ò–∑–Ω–∞—á–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:</span>\r\n                      <span className=\"strikethrough\">{baseCost} ‚ÇΩ</span>\r\n                    </div>\r\n                  </>\r\n                )}\r\n                \r\n                <div className=\"cost-total\">\r\n                  <span>–ò—Ç–æ–≥–æ –∫ –æ–ø–ª–∞—Ç–µ:</span>\r\n                  <span className=\"total-amount\">{finalCost} ‚ÇΩ</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"payment-actions\">\r\n                <button \r\n                  className=\"btn payment-btn primary\"\r\n                  onClick={handlePayment}\r\n                  disabled={processingPayment}\r\n                >\r\n                  {processingPayment ? '–û–±—Ä–∞–±–æ—Ç–∫–∞...' : `–ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–ø–ª–∞—Ç–µ ${finalCost} ‚ÇΩ`}\r\n                </button>\r\n                \r\n                <button \r\n                  className=\"btn secondary\"\r\n                  onClick={handleSimplePayment}\r\n                  disabled={processingPayment}\r\n                  style={{marginTop: '10px'}}\r\n                >\r\n                  {processingPayment ? '–°–æ–∑–¥–∞–Ω–∏–µ...' : '–°–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω—å –±–µ–∑ –æ–ø–ª–∞—Ç—ã (—Ç–µ—Å—Ç)'}\r\n                </button>\r\n                \r\n                <button \r\n                  className=\"btn secondary\"\r\n                  onClick={handleEditBooking}\r\n                  disabled={processingPayment}\r\n                >\r\n                  –ò–∑–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å\r\n                </button>\r\n                <button \r\n                  className=\"btn secondary\"\r\n                  onClick={handleBackToHome}\r\n                  disabled={processingPayment}\r\n                >\r\n                  –ù–∞ –≥–ª–∞–≤–Ω—É—é\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"payment-security\">\r\n                <div className=\"security-info\">\r\n                  <span className=\"security-icon\">üîí</span>\r\n                  <span>–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ CloudPayments</span>\r\n                </div>\r\n                <p className=\"security-note\">\r\n                  –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ email –∏ —Å–º—Å\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"support-info\">\r\n              <h4>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?</h4>\r\n              <p>–¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∏: +7 (999) 123-45-67</p>\r\n              <p>Email: support@cyberclub.ru</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è */}\r\n        <div className=\"debug-info\" style={{\r\n          background: 'rgba(255,255,255,0.1)',\r\n          padding: '15px',\r\n          borderRadius: '8px',\r\n          marginTop: '20px',\r\n          color: 'white',\r\n          fontSize: '12px'\r\n        }}>\r\n          <strong>üîß –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</strong><br/>\r\n          - –î–∞–Ω–Ω—ã–µ –∏–∑ localStorage: {bookingData ? '‚úÖ' : '‚ùå'}<br/>\r\n          - –ó–∞–≥—Ä—É–∂–µ–Ω–æ –±–ª—é–¥: {foods.length}<br/>\r\n          - –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤: {computers.length}<br/>\r\n          - –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∫–ª—É–±–æ–≤: {clubs.length}<br/>\r\n          - –¢–∞—Ä–∏—Ñ: {tariffData ? '‚úÖ' : '‚ùå'}<br/>\r\n          - –ò–Ω—Ñ–æ –æ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ: {computerInfo ? '‚úÖ' : '‚ùå'}<br/>\r\n          - –ò–Ω—Ñ–æ –æ –∫–ª—É–±–µ: {clubInfo ? '‚úÖ' : '‚ùå'}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookingConfirmation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}