{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ksenia\\\\Desktop\\\\\\u043A\\u043E\\u043C\\u043F_\\u043A\\u043B\\u0443\\u0431\\\\gaming-club-react\\\\src\\\\components\\\\MyBookings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { apiService } from '../services/Api';\nimport '../styles/MyBookings.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MyBookings = () => {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const [payments, setPayments] = useState([]);\n  const [clubs, setClubs] = useState([]);\n  const [computers, setComputers] = useState([]);\n  const [foods, setFoods] = useState([]);\n  const [additionalMenu, setAdditionalMenu] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    loadUserData();\n  }, []);\n  const loadUserData = async () => {\n    try {\n      setLoading(true);\n      console.log('🔄 Starting to load user data...');\n\n      // Загружаем все необходимые данные\n      const userBookings = await apiService.getBookings();\n      console.log('📋 Bookings loaded:', userBookings);\n      const userPayments = await apiService.getPayments();\n      console.log('💰 Payments loaded:', userPayments);\n      const clubsData = await apiService.getClubs();\n      console.log('🏢 Clubs loaded:', clubsData);\n      const computersData = await apiService.getComputers();\n      console.log('💻 Computers loaded:', computersData);\n      const foodsData = await apiService.getFoods();\n      console.log('🍽️ Foods loaded:', foodsData);\n\n      // Пробуем загрузить additional-menu, если endpoint существует\n      let additionalMenuData = [];\n      try {\n        if (apiService.getAdditionalMenu) {\n          additionalMenuData = await apiService.getAdditionalMenu();\n          console.log('📝 Additional menu loaded:', additionalMenuData);\n        } else {\n          console.log('ℹ️ getAdditionalMenu method not found in apiService');\n          try {\n            additionalMenuData = await apiService.request('/additional-menu');\n            console.log('📝 Additional menu loaded via direct request:', additionalMenuData);\n          } catch (menuError) {\n            console.log('⚠️ Cannot load additional menu:', menuError.message);\n          }\n        }\n      } catch (menuError) {\n        console.log('⚠️ Error loading additional menu:', menuError);\n      }\n      console.log('✅ All data loaded successfully');\n      console.log('📊 Summary:', {\n        bookings: userBookings.length,\n        payments: userPayments.length,\n        clubs: clubsData.length,\n        computers: computersData.length,\n        foods: foodsData.length,\n        additionalMenu: additionalMenuData.length\n      });\n      setBookings(userBookings);\n      setPayments(userPayments);\n      setClubs(clubsData);\n      setComputers(computersData);\n      setFoods(foodsData);\n      setAdditionalMenu(additionalMenuData);\n    } catch (err) {\n      console.error('❌ Error loading user data:', err);\n      setError('Не удалось загрузить данные о бронированиях');\n\n      // Fallback: проверяем localStorage\n      try {\n        const lastBooking = localStorage.getItem('lastBooking');\n        if (lastBooking) {\n          const booking = JSON.parse(lastBooking);\n          if (booking.status && booking.status !== 'draft') {\n            console.log('📦 Using fallback data from localStorage');\n            setBookings([booking]);\n          }\n        }\n      } catch (e) {\n        console.error('Error parsing localStorage booking:', e);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Функция для получения информации о клубе\n  const getClubInfo = clubId => {\n    const club = clubs.find(c => c.id === clubId);\n    return club || {\n      address: 'Не указан',\n      name: 'Неизвестный клуб'\n    };\n  };\n\n  // Функция для получения информации о компьютере\n  const getComputerInfo = computerId => {\n    if (!computerId) return null;\n    const computer = computers.find(c => c.id == computerId);\n    if (!computer) {\n      console.log(`❌ Computer not found for ID: ${computerId}`);\n      return null;\n    }\n    return {\n      id: computer.id,\n      name: computer.name || `Компьютер ${computer.id}`,\n      price: computer.price,\n      processor: computer.processor,\n      graphicsCard: computer.graphics_card,\n      ram: computer.ram,\n      monitor: computer.monitor,\n      headphones: computer.headphones,\n      keyboard: computer.keyboard,\n      mouse: computer.mouse,\n      position: computer.position_id ? `Место ${computer.position_id}` : 'Не указано'\n    };\n  };\n\n  // Функция для получения локально сохраненных данных о еде\n  const getLocalFoodData = bookingId => {\n    try {\n      // Пробуем найти данные в двух возможных форматах\n      const localFoodKey = `local_food_${bookingId}`;\n      const foodOrderKey = `food_order_${bookingId}`;\n      const localFoodData = localStorage.getItem(localFoodKey);\n      const foodOrderData = localStorage.getItem(foodOrderKey);\n      let localItems = [];\n      if (localFoodData) {\n        const parsed = JSON.parse(localFoodData);\n        console.log(`📦 Found local food data for booking ${bookingId}:`, parsed);\n        if (parsed.items && Array.isArray(parsed.items)) {\n          localItems = parsed.items.map(item => ({\n            ...item,\n            isLocal: true,\n            quantity: item.count || item.quantity || 1\n          }));\n        }\n      }\n      if (foodOrderData) {\n        const parsed = JSON.parse(foodOrderData);\n        console.log(`📋 Found food order summary for booking ${bookingId}:`, parsed);\n        if (parsed.items && Array.isArray(parsed.items)) {\n          // Объединяем с уже найденными данными, избегая дубликатов\n          parsed.items.forEach(orderItem => {\n            if (!localItems.find(localItem => localItem.food_id === orderItem.food_id)) {\n              localItems.push({\n                ...orderItem,\n                isLocal: true,\n                quantity: orderItem.quantity || 1\n              });\n            }\n          });\n        }\n      }\n      console.log(`✅ Total local food items for booking ${bookingId}:`, localItems.length);\n      return localItems;\n    } catch (error) {\n      console.error(`❌ Error loading local food data for booking ${bookingId}:`, error);\n      return [];\n    }\n  };\n\n  // Функция для получения заказанных блюд (объединяет данные из API и localStorage)\n  const getBookingFoods = bookingId => {\n    console.log(`🔍 Looking for foods for booking ${bookingId}`);\n\n    // Данные из API (additional menu)\n    const apiMenuItems = additionalMenu.filter(item => {\n      const itemBookingId = item.booking_id || item.bookingId || item.booking;\n      console.log(`Menu item ${item.id}: booking_id=${itemBookingId}, looking for ${bookingId}`);\n      return itemBookingId == bookingId;\n    });\n    console.log(`📦 Found ${apiMenuItems.length} API menu items for booking ${bookingId}`);\n\n    // Данные из localStorage\n    const localFoodItems = getLocalFoodData(bookingId);\n    console.log(`🏠 Found ${localFoodItems.length} local food items for booking ${bookingId}`);\n\n    // Объединяем данные из API и localStorage\n    const allFoodItems = [...apiMenuItems.map(item => {\n      const foodId = item.food_id || item.foodId || item.food;\n      const food = foods.find(f => f.id == foodId);\n      console.log(`🍕 API Menu item ${item.id}: food_id=${foodId}, found food:`, food);\n      return {\n        ...item,\n        food: food || {\n          name: `Продукт #${foodId}`,\n          price: item.price || 0,\n          id: foodId\n        },\n        quantity: item.count || item.quantity || 1,\n        source: 'api'\n      };\n    }), ...localFoodItems.map(item => {\n      const foodId = item.food_id || item.id;\n      const food = foods.find(f => f.id == foodId);\n      console.log(`🏠 Local food item: food_id=${foodId}, found food:`, food);\n      return {\n        ...item,\n        food: food || {\n          name: item.name || `Продукт #${foodId}`,\n          price: item.price || 0,\n          id: foodId\n        },\n        quantity: item.quantity || item.count || 1,\n        source: 'local',\n        isLocal: true\n      };\n    })];\n    console.log(`✅ Total ${allFoodItems.length} food items for booking ${bookingId}`, {\n      fromApi: apiMenuItems.length,\n      fromLocal: localFoodItems.length\n    });\n    return allFoodItems;\n  };\n  const getEnhancedBooking = booking => {\n    console.log(`🎯 Enhancing booking ${booking.id}`);\n    const payment = payments.find(p => p.booking_id === booking.id);\n    const clubInfo = getClubInfo(booking.club_id);\n    const computerInfo = getComputerInfo(booking.computer_id);\n    const bookingFoods = getBookingFoods(booking.id);\n    const enhanced = {\n      ...booking,\n      payment: payment || null,\n      clubInfo,\n      computerInfo,\n      foods: bookingFoods\n    };\n    console.log(`✅ Enhanced booking ${booking.id}:`, {\n      hasPayment: !!payment,\n      clubInfo,\n      hasComputer: !!computerInfo,\n      foodsCount: bookingFoods.length,\n      foodsFromLocal: bookingFoods.filter(f => f.isLocal).length\n    });\n    return enhanced;\n  };\n  const getStatusInfo = (status, paymentStatus) => {\n    if (paymentStatus) {\n      const paymentStatusMap = {\n        'pending': {\n          text: 'Ожидает оплаты',\n          color: '#ffc107',\n          icon: '💰'\n        },\n        'completed': {\n          text: 'Оплачено',\n          color: '#28a745',\n          icon: '💳'\n        },\n        'failed': {\n          text: 'Ошибка оплаты',\n          color: '#dc3545',\n          icon: '❌'\n        },\n        'refunded': {\n          text: 'Возврат',\n          color: '#6c757d',\n          icon: '↩️'\n        }\n      };\n      return paymentStatusMap[paymentStatus] || paymentStatusMap.pending;\n    }\n    const statusMap = {\n      'draft': {\n        text: 'Черновик',\n        color: '#6c757d',\n        icon: '📝'\n      },\n      'pending': {\n        text: 'Ожидает подтверждения',\n        color: '#17a2b8',\n        icon: '⏳'\n      },\n      'confirmed': {\n        text: 'Подтверждено',\n        color: '#28a745',\n        icon: '✅'\n      },\n      'active': {\n        text: 'Активно',\n        color: '#28a745',\n        icon: '🟢'\n      },\n      'completed': {\n        text: 'Завершено',\n        color: '#6c757d',\n        icon: '🏁'\n      },\n      'cancelled': {\n        text: 'Отменено',\n        color: '#dc3545',\n        icon: '❌'\n      }\n    };\n    return statusMap[status] || {\n      text: status,\n      color: '#6c757d',\n      icon: '❓'\n    };\n  };\n  const formatDateTime = dateTimeString => {\n    if (!dateTimeString) return 'Не указано';\n    try {\n      const date = new Date(dateTimeString);\n      return date.toLocaleString('ru-RU', {\n        day: 'numeric',\n        month: 'long',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit',\n        weekday: 'short'\n      });\n    } catch (e) {\n      console.log('❌ Error formatting date:', dateTimeString, e);\n      return dateTimeString;\n    }\n  };\n  const formatPrice = price => {\n    if (!price) return '0 ₽';\n    const numericPrice = typeof price === 'string' ? parseFloat(price) : price;\n    return new Intl.NumberFormat('ru-RU', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(numericPrice) + ' ₽';\n  };\n  const formatTimeDuration = minutes => {\n    if (!minutes) return 'Не указано';\n    const numericMinutes = typeof minutes === 'string' ? parseInt(minutes) : minutes;\n    const hours = Math.floor(numericMinutes / 60);\n    const mins = numericMinutes % 60;\n    if (hours === 0) return `${mins} мин`;\n    if (mins === 0) return `${hours} ч`;\n    return `${hours} ч ${mins} мин`;\n  };\n  const handlePayNow = async paymentId => {\n    try {\n      alert(`Инициирована оплата платежа #${paymentId}`);\n    } catch (err) {\n      console.error('Error initiating payment:', err);\n      alert('Ошибка при инициации оплаты');\n    }\n  };\n  const handleCancelBooking = async bookingId => {\n    if (window.confirm('Вы уверены, что хотите отменить бронирование?')) {\n      try {\n        const updatedBookings = bookings.map(booking => booking.id === bookingId ? {\n          ...booking,\n          status: 'cancelled'\n        } : booking);\n        setBookings(updatedBookings);\n        alert('Бронирование успешно отменено');\n      } catch (err) {\n        console.error('Error cancelling booking:', err);\n        alert('Ошибка при отмене бронирования');\n      }\n    }\n  };\n\n  // Функция для синхронизации локальных данных с сервером\n  const handleSyncLocalFood = async bookingId => {\n    try {\n      const localFoodItems = getLocalFoodData(bookingId);\n      if (localFoodItems.length === 0) {\n        alert('Нет локальных данных для синхронизации');\n        return;\n      }\n      console.log(`🔄 Syncing ${localFoodItems.length} local food items for booking ${bookingId}`);\n      let successCount = 0;\n      let failedCount = 0;\n      for (const item of localFoodItems) {\n        try {\n          await apiService.addFoodToBooking(bookingId, {\n            food_id: item.food_id || item.id,\n            count: item.quantity || item.count\n          });\n          successCount++;\n        } catch (error) {\n          console.error(`❌ Failed to sync item ${item.food_id}:`, error);\n          failedCount++;\n        }\n      }\n      if (failedCount === 0) {\n        // Удаляем локальные данные после успешной синхронизации\n        localStorage.removeItem(`local_food_${bookingId}`);\n        localStorage.removeItem(`food_order_${bookingId}`);\n        alert(`✅ Все ${successCount} позиций успешно синхронизированы с сервером!`);\n        loadUserData(); // Перезагружаем данные\n      } else {\n        alert(`⚠️ Синхронизировано ${successCount} из ${localFoodItems.length} позиций. Неудачные: ${failedCount}`);\n      }\n    } catch (error) {\n      console.error('Error syncing local food data:', error);\n      alert('Ошибка при синхронизации данных');\n    }\n  };\n  const handleBackToHome = () => {\n    window.location.href = '/';\n  };\n  const handleRefresh = () => {\n    loadUserData();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-bookings-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0432\\u0430\\u0448\\u0438\\u0445 \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0439...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 7\n    }, this);\n  }\n  const enhancedBookings = bookings.map(booking => getEnhancedBooking(booking));\n  console.log('🎉 Final enhanced bookings:', enhancedBookings);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    id: \"my-bookings\",\n    className: \"my-bookings-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"background-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/images/67f504fdfc00ad2f7d384258d27391b08ef7aabd.png\",\n        alt: \"Abstract background\",\n        className: \"bg-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-overlay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-bookings-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-bookings-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD83D\\uDCCB \\u041C\\u043E\\u0438 \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"bookings-count\",\n            children: [\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0439: \", bookings.length, additionalMenu.length > 0 && ` • Найдено записей меню: ${additionalMenu.length}`]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRefresh,\n            className: \"btn secondary\",\n            children: \"\\uD83D\\uDD04 \\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleBackToHome,\n            className: \"btn secondary\",\n            children: \"\\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [\"\\u26A0\\uFE0F \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this), bookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-bookings\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-bookings-icon\",\n          children: \"\\uD83D\\uDCED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0423 \\u0432\\u0430\\u0441 \\u043D\\u0435\\u0442 \\u0430\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0445 \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0439\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0417\\u0430\\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u0443\\u0439\\u0442\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E \\u0432 \\u043A\\u043E\\u043C\\u043F\\u044C\\u044E\\u0442\\u0435\\u0440\\u043D\\u043E\\u043C \\u043A\\u043B\\u0443\\u0431\\u0435, \\u0447\\u0442\\u043E\\u0431\\u044B \\u0443\\u0432\\u0438\\u0434\\u0435\\u0442\\u044C \\u0435\\u0433\\u043E \\u0437\\u0434\\u0435\\u0441\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.href = '/booking',\n          className: \"btn primary\",\n          children: \"\\u0417\\u0430\\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043C\\u0435\\u0441\\u0442\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bookings-list\",\n        children: enhancedBookings.map(booking => {\n          var _booking$payment, _booking$payment2, _booking$foods;\n          const statusInfo = getStatusInfo(booking.status, (_booking$payment = booking.payment) === null || _booking$payment === void 0 ? void 0 : _booking$payment.status);\n          const isPaymentPending = ((_booking$payment2 = booking.payment) === null || _booking$payment2 === void 0 ? void 0 : _booking$payment2.status) === 'pending';\n          const canCancel = ['pending', 'confirmed'].includes(booking.status);\n          const hasFoods = booking.foods && booking.foods.length > 0;\n          const hasLocalFoods = booking.foods && booking.foods.some(f => f.isLocal);\n          console.log(`📋 Rendering booking ${booking.id}:`, {\n            hasFoods,\n            foodsCount: (_booking$foods = booking.foods) === null || _booking$foods === void 0 ? void 0 : _booking$foods.length,\n            hasLocalFoods,\n            foods: booking.foods\n          });\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"booking-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"booking-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: [\"\\u0411\\u0440\\u043E\\u043D\\u044C #\", booking.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"booking-status\",\n                  style: {\n                    backgroundColor: statusInfo.color\n                  },\n                  children: [statusInfo.icon, \" \", statusInfo.text]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"booking-date\",\n                children: [\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u043E: \", new Date(booking.created_at).toLocaleDateString('ru-RU')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCCD \\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u0431\\u0440\\u043E\\u043D\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-grid\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"\\uD83C\\uDFE2 \\u041A\\u043B\\u0443\\u0431:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 514,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: booking.clubInfo.address || `Клуб #${booking.club_id}`\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 515,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 25\n                  }, this), booking.computerInfo && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-label\",\n                        children: \"\\uD83D\\uDCBB \\u041A\\u043E\\u043C\\u043F\\u044C\\u044E\\u0442\\u0435\\u0440:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 523,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-value\",\n                        children: [booking.computerInfo.name, \" (\", booking.computerInfo.position, \")\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 524,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-label\",\n                        children: \"\\u26A1 \\u041F\\u0440\\u043E\\u0446\\u0435\\u0441\\u0441\\u043E\\u0440:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 530,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-value\",\n                        children: booking.computerInfo.processor || 'Не указан'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 531,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 529,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"detail-item\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-label\",\n                        children: \"\\uD83C\\uDFAE \\u0412\\u0438\\u0434\\u0435\\u043E\\u043A\\u0430\\u0440\\u0442\\u0430:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 537,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"detail-value\",\n                        children: booking.computerInfo.graphicsCard || 'Не указана'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 538,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 536,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDD50 \\u0412\\u0440\\u0435\\u043C\\u044F \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-grid\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"\\u041D\\u0430\\u0447\\u0430\\u043B\\u043E:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 552,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: formatDateTime(booking.start_time)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 553,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 551,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"\\u041E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u0435:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 558,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: formatDateTime(booking.end_time)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 559,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"\\u23F1\\uFE0F \\u0414\\u043B\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 564,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: formatTimeDuration(booking.minutes)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 565,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 563,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 21\n              }, this), hasFoods ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: [\"\\uD83C\\uDF7D\\uFE0F \\u0417\\u0430\\u043A\\u0430\\u0437 \\u0438\\u0437 \\u043A\\u0430\\u0444\\u0435 (\", booking.foods.length, \" \\u043F\\u043E\\u0437\\u0438\\u0446\\u0438\\u0439)\", hasLocalFoods && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"local-food-badge\",\n                    style: {\n                      background: '#ffc107',\n                      color: 'black',\n                      padding: '2px 8px',\n                      borderRadius: '12px',\n                      fontSize: '12px',\n                      marginLeft: '10px'\n                    },\n                    children: \"\\uD83C\\uDFE0 \\u041B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 578,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"foods-list\",\n                  children: [booking.foods.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"food-item\",\n                    style: {\n                      borderLeft: item.isLocal ? '4px solid #ffc107' : '4px solid #28a745'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"food-name\",\n                      children: [item.food.name, item.isLocal && /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#ffc107',\n                          marginLeft: '5px'\n                        },\n                        children: \"\\uD83C\\uDFE0\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 598,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 595,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"food-quantity\",\n                      children: [\"\\xD7 \", item.quantity]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 601,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"food-price\",\n                      children: formatPrice(item.food.price * item.quantity)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 602,\n                      columnNumber: 31\n                    }, this)]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 592,\n                    columnNumber: 29\n                  }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"food-total\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\u0418\\u0442\\u043E\\u0433\\u043E \\u0437\\u0430 \\u0435\\u0434\\u0443:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 608,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"total-amount\",\n                      children: formatPrice(booking.foods.reduce((sum, item) => sum + item.food.price * item.quantity, 0))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 609,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 590,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 574,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83C\\uDF7D\\uFE0F \\u0417\\u0430\\u043A\\u0430\\u0437 \\u0438\\u0437 \\u043A\\u0430\\u0444\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no-food-message\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u274C \\u0417\\u0430\\u043A\\u0430\\u0437 \\u0438\\u0437 \\u043A\\u0430\\u0444\\u0435 \\u043E\\u0442\\u0441\\u0443\\u0442\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"\\u0412 \\u044D\\u0442\\u043E\\u043C \\u0431\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0438 \\u043D\\u0435\\u0442 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\\u043D\\u043D\\u044B\\u0445 \\u0431\\u043B\\u044E\\u0434\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 622,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 23\n              }, this), booking.payment && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"detail-section payment-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCB3 \\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u043F\\u043B\\u0430\\u0442\\u0435\\u0436\\u0435\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 630,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"detail-grid\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"ID \\u043F\\u043B\\u0430\\u0442\\u0435\\u0436\\u0430:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 633,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: [\"#\", booking.payment.id]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 634,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"\\u0422\\u0438\\u043F \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 637,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: booking.payment.payment_type === 'card' ? '💳 Карта' : '💵 Наличные'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 638,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 636,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 643,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: booking.payment.status === 'completed' ? '✅ Оплачено' : booking.payment.status === 'pending' ? '⏳ Ожидает оплаты' : booking.payment.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 644,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 642,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"detail-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-label\",\n                      children: \"\\u0421\\u0443\\u043C\\u043C\\u0430:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"detail-value\",\n                      children: formatPrice(booking.payment.price)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 652,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 650,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 629,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"booking-total\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cost-breakdown\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cost-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\u0410\\u0440\\u0435\\u043D\\u0434\\u0430 \\u043A\\u043E\\u043C\\u043F\\u044C\\u044E\\u0442\\u0435\\u0440\\u0430:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 664,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: formatPrice(booking.price_for_pc)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 665,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 663,\n                    columnNumber: 25\n                  }, this), hasFoods && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cost-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\u0417\\u0430\\u043A\\u0430\\u0437 \\u0438\\u0437 \\u043A\\u0430\\u0444\\u0435:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 669,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: formatPrice(booking.price_for_additions)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 670,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 668,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"cost-total\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\uD83D\\uDCB0 \\u0418\\u0442\\u043E\\u0433\\u043E \\u043A \\u043E\\u043F\\u043B\\u0430\\u0442\\u0435:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 674,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"total-amount\",\n                      children: formatPrice(booking.total_price)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 675,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 673,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 662,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 661,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"booking-actions\",\n              children: [isPaymentPending && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handlePayNow(booking.payment.id),\n                className: \"btn primary\",\n                children: \"\\uD83D\\uDCB3 \\u041E\\u043F\\u043B\\u0430\\u0442\\u0438\\u0442\\u044C \\u0441\\u0435\\u0439\\u0447\\u0430\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 23\n              }, this), hasLocalFoods && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSyncLocalFood(booking.id),\n                className: \"btn secondary\",\n                style: {\n                  background: '#ffc107',\n                  color: 'black'\n                },\n                children: \"\\uD83D\\uDD04 \\u0421\\u0438\\u043D\\u0445\\u0440\\u043E\\u043D\\u0438\\u0437\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0435\\u0434\\u0443\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 23\n              }, this), canCancel && /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleCancelBooking(booking.id),\n                className: \"btn secondary\",\n                children: \"\\u274C \\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u0431\\u0440\\u043E\\u043D\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 704,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn outline\",\n                children: \"\\uD83D\\uDCDE \\u0421\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 \\u043F\\u043E\\u0434\\u0434\\u0435\\u0440\\u0436\\u043A\\u043E\\u0439\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn outline\",\n                children: \"\\uD83D\\uDCE7 \\u041F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \\u043A\\u0432\\u0438\\u0442\\u0430\\u043D\\u0446\\u0438\\u044E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 716,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 683,\n              columnNumber: 19\n            }, this)]\n          }, booking.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }, this), bookings.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bookings-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-number\",\n            children: bookings.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u0412\\u0441\\u0435\\u0433\\u043E \\u0431\\u0440\\u043E\\u043D\\u0435\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-number\",\n            children: bookings.filter(b => b.status === 'confirmed' || b.status === 'active').length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u0410\\u043A\\u0442\\u0438\\u0432\\u043D\\u044B\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 733,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-number\",\n            children: enhancedBookings.filter(b => b.foods && b.foods.length > 0).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u0421 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u043C \\u0435\\u0434\\u044B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 743,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-number\",\n            children: enhancedBookings.filter(b => b.foods && b.foods.some(f => f.isLocal)).length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u0421 \\u043B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u043E\\u0439 \\u0435\\u0434\\u043E\\u0439\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 749,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 745,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"debug-info\",\n        style: {\n          background: 'rgba(255,255,255,0.1)',\n          padding: '15px',\n          borderRadius: '8px',\n          marginTop: '30px',\n          color: 'white',\n          fontSize: '12px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDD27 \\u041E\\u0442\\u043B\\u0430\\u0434\\u043E\\u0447\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 53\n        }, this), \"- \\u0411\\u0440\\u043E\\u043D\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0439: \", bookings.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 44\n        }, this), \"- \\u041F\\u043B\\u0430\\u0442\\u0435\\u0436\\u0435\\u0439: \", payments.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 765,\n          columnNumber: 40\n        }, this), \"- \\u041A\\u043B\\u0443\\u0431\\u043E\\u0432: \", clubs.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 766,\n          columnNumber: 35\n        }, this), \"- \\u041A\\u043E\\u043C\\u043F\\u044C\\u044E\\u0442\\u0435\\u0440\\u043E\\u0432: \", computers.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 767,\n          columnNumber: 44\n        }, this), \"- \\u0411\\u043B\\u044E\\u0434: \", foods.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 768,\n          columnNumber: 33\n        }, this), \"- \\u0417\\u0430\\u043F\\u0438\\u0441\\u0435\\u0439 \\u043C\\u0435\\u043D\\u044E: \", additionalMenu.length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 769,\n          columnNumber: 50\n        }, this), \"- \\u0411\\u0440\\u043E\\u043D\\u0435\\u0439 \\u0441 \\u0435\\u0434\\u043E\\u0439: \", enhancedBookings.filter(b => b.foods && b.foods.length > 0).length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 96\n        }, this), \"- \\u0411\\u0440\\u043E\\u043D\\u0435\\u0439 \\u0441 \\u043B\\u043E\\u043A\\u0430\\u043B\\u044C\\u043D\\u043E\\u0439 \\u0435\\u0434\\u043E\\u0439: \", enhancedBookings.filter(b => b.foods && b.foods.some(f => f.isLocal)).length, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 116\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 772,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDCDD \\u041F\\u0440\\u0438\\u043C\\u0435\\u0440 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0438 \\u043C\\u0435\\u043D\\u044E:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 50\n        }, this), additionalMenu.length > 0 ? JSON.stringify(additionalMenu[0]) : 'Нет данных']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 755,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 428,\n    columnNumber: 5\n  }, this);\n};\n_s(MyBookings, \"wCNgwDp/DInJmrwxr7IlsQvINyM=\");\n_c = MyBookings;\nexport default MyBookings;\nvar _c;\n$RefreshReg$(_c, \"MyBookings\");","map":{"version":3,"names":["React","useState","useEffect","apiService","jsxDEV","_jsxDEV","Fragment","_Fragment","MyBookings","_s","bookings","setBookings","payments","setPayments","clubs","setClubs","computers","setComputers","foods","setFoods","additionalMenu","setAdditionalMenu","loading","setLoading","error","setError","loadUserData","console","log","userBookings","getBookings","userPayments","getPayments","clubsData","getClubs","computersData","getComputers","foodsData","getFoods","additionalMenuData","getAdditionalMenu","request","menuError","message","length","err","lastBooking","localStorage","getItem","booking","JSON","parse","status","e","getClubInfo","clubId","club","find","c","id","address","name","getComputerInfo","computerId","computer","price","processor","graphicsCard","graphics_card","ram","monitor","headphones","keyboard","mouse","position","position_id","getLocalFoodData","bookingId","localFoodKey","foodOrderKey","localFoodData","foodOrderData","localItems","parsed","items","Array","isArray","map","item","isLocal","quantity","count","forEach","orderItem","localItem","food_id","push","getBookingFoods","apiMenuItems","filter","itemBookingId","booking_id","localFoodItems","allFoodItems","foodId","food","f","source","fromApi","fromLocal","getEnhancedBooking","payment","p","clubInfo","club_id","computerInfo","computer_id","bookingFoods","enhanced","hasPayment","hasComputer","foodsCount","foodsFromLocal","getStatusInfo","paymentStatus","paymentStatusMap","text","color","icon","pending","statusMap","formatDateTime","dateTimeString","date","Date","toLocaleString","day","month","year","hour","minute","weekday","formatPrice","numericPrice","parseFloat","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","formatTimeDuration","minutes","numericMinutes","parseInt","hours","Math","floor","mins","handlePayNow","paymentId","alert","handleCancelBooking","window","confirm","updatedBookings","handleSyncLocalFood","successCount","failedCount","addFoodToBooking","removeItem","handleBackToHome","location","href","handleRefresh","className","children","fileName","_jsxFileName","lineNumber","columnNumber","enhancedBookings","src","alt","onClick","_booking$payment","_booking$payment2","_booking$foods","statusInfo","isPaymentPending","canCancel","includes","hasFoods","hasLocalFoods","some","style","backgroundColor","created_at","toLocaleDateString","start_time","end_time","background","padding","borderRadius","fontSize","marginLeft","index","borderLeft","reduce","sum","payment_type","price_for_pc","price_for_additions","total_price","b","marginTop","stringify","_c","$RefreshReg$"],"sources":["C:/Users/Ksenia/Desktop/комп_клуб/gaming-club-react/src/components/MyBookings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { apiService } from '../services/Api';\r\nimport '../styles/MyBookings.css';\r\n\r\nconst MyBookings = () => {\r\n  const [bookings, setBookings] = useState([]);\r\n  const [payments, setPayments] = useState([]);\r\n  const [clubs, setClubs] = useState([]);\r\n  const [computers, setComputers] = useState([]);\r\n  const [foods, setFoods] = useState([]);\r\n  const [additionalMenu, setAdditionalMenu] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    loadUserData();\r\n  }, []);\r\n\r\n  const loadUserData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      console.log('🔄 Starting to load user data...');\r\n      \r\n      // Загружаем все необходимые данные\r\n      const userBookings = await apiService.getBookings();\r\n      console.log('📋 Bookings loaded:', userBookings);\r\n      \r\n      const userPayments = await apiService.getPayments();\r\n      console.log('💰 Payments loaded:', userPayments);\r\n      \r\n      const clubsData = await apiService.getClubs();\r\n      console.log('🏢 Clubs loaded:', clubsData);\r\n      \r\n      const computersData = await apiService.getComputers();\r\n      console.log('💻 Computers loaded:', computersData);\r\n      \r\n      const foodsData = await apiService.getFoods();\r\n      console.log('🍽️ Foods loaded:', foodsData);\r\n      \r\n      // Пробуем загрузить additional-menu, если endpoint существует\r\n      let additionalMenuData = [];\r\n      try {\r\n        if (apiService.getAdditionalMenu) {\r\n          additionalMenuData = await apiService.getAdditionalMenu();\r\n          console.log('📝 Additional menu loaded:', additionalMenuData);\r\n        } else {\r\n          console.log('ℹ️ getAdditionalMenu method not found in apiService');\r\n          try {\r\n            additionalMenuData = await apiService.request('/additional-menu');\r\n            console.log('📝 Additional menu loaded via direct request:', additionalMenuData);\r\n          } catch (menuError) {\r\n            console.log('⚠️ Cannot load additional menu:', menuError.message);\r\n          }\r\n        }\r\n      } catch (menuError) {\r\n        console.log('⚠️ Error loading additional menu:', menuError);\r\n      }\r\n      \r\n      console.log('✅ All data loaded successfully');\r\n      console.log('📊 Summary:', {\r\n        bookings: userBookings.length,\r\n        payments: userPayments.length,\r\n        clubs: clubsData.length,\r\n        computers: computersData.length,\r\n        foods: foodsData.length,\r\n        additionalMenu: additionalMenuData.length\r\n      });\r\n      \r\n      setBookings(userBookings);\r\n      setPayments(userPayments);\r\n      setClubs(clubsData);\r\n      setComputers(computersData);\r\n      setFoods(foodsData);\r\n      setAdditionalMenu(additionalMenuData);\r\n      \r\n    } catch (err) {\r\n      console.error('❌ Error loading user data:', err);\r\n      setError('Не удалось загрузить данные о бронированиях');\r\n      \r\n      // Fallback: проверяем localStorage\r\n      try {\r\n        const lastBooking = localStorage.getItem('lastBooking');\r\n        if (lastBooking) {\r\n          const booking = JSON.parse(lastBooking);\r\n          if (booking.status && booking.status !== 'draft') {\r\n            console.log('📦 Using fallback data from localStorage');\r\n            setBookings([booking]);\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error('Error parsing localStorage booking:', e);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Функция для получения информации о клубе\r\n  const getClubInfo = (clubId) => {\r\n    const club = clubs.find(c => c.id === clubId);\r\n    return club || { address: 'Не указан', name: 'Неизвестный клуб' };\r\n  };\r\n\r\n  // Функция для получения информации о компьютере\r\n  const getComputerInfo = (computerId) => {\r\n    if (!computerId) return null;\r\n    \r\n    const computer = computers.find(c => c.id == computerId);\r\n    if (!computer) {\r\n      console.log(`❌ Computer not found for ID: ${computerId}`);\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      id: computer.id,\r\n      name: computer.name || `Компьютер ${computer.id}`,\r\n      price: computer.price,\r\n      processor: computer.processor,\r\n      graphicsCard: computer.graphics_card,\r\n      ram: computer.ram,\r\n      monitor: computer.monitor,\r\n      headphones: computer.headphones,\r\n      keyboard: computer.keyboard,\r\n      mouse: computer.mouse,\r\n      position: computer.position_id ? `Место ${computer.position_id}` : 'Не указано'\r\n    };\r\n  };\r\n\r\n  // Функция для получения локально сохраненных данных о еде\r\n  const getLocalFoodData = (bookingId) => {\r\n    try {\r\n      // Пробуем найти данные в двух возможных форматах\r\n      const localFoodKey = `local_food_${bookingId}`;\r\n      const foodOrderKey = `food_order_${bookingId}`;\r\n      \r\n      const localFoodData = localStorage.getItem(localFoodKey);\r\n      const foodOrderData = localStorage.getItem(foodOrderKey);\r\n      \r\n      let localItems = [];\r\n      \r\n      if (localFoodData) {\r\n        const parsed = JSON.parse(localFoodData);\r\n        console.log(`📦 Found local food data for booking ${bookingId}:`, parsed);\r\n        if (parsed.items && Array.isArray(parsed.items)) {\r\n          localItems = parsed.items.map(item => ({\r\n            ...item,\r\n            isLocal: true,\r\n            quantity: item.count || item.quantity || 1\r\n          }));\r\n        }\r\n      }\r\n      \r\n      if (foodOrderData) {\r\n        const parsed = JSON.parse(foodOrderData);\r\n        console.log(`📋 Found food order summary for booking ${bookingId}:`, parsed);\r\n        if (parsed.items && Array.isArray(parsed.items)) {\r\n          // Объединяем с уже найденными данными, избегая дубликатов\r\n          parsed.items.forEach(orderItem => {\r\n            if (!localItems.find(localItem => localItem.food_id === orderItem.food_id)) {\r\n              localItems.push({\r\n                ...orderItem,\r\n                isLocal: true,\r\n                quantity: orderItem.quantity || 1\r\n              });\r\n            }\r\n          });\r\n        }\r\n      }\r\n      \r\n      console.log(`✅ Total local food items for booking ${bookingId}:`, localItems.length);\r\n      return localItems;\r\n      \r\n    } catch (error) {\r\n      console.error(`❌ Error loading local food data for booking ${bookingId}:`, error);\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Функция для получения заказанных блюд (объединяет данные из API и localStorage)\r\n  const getBookingFoods = (bookingId) => {\r\n    console.log(`🔍 Looking for foods for booking ${bookingId}`);\r\n    \r\n    // Данные из API (additional menu)\r\n    const apiMenuItems = additionalMenu.filter(item => {\r\n      const itemBookingId = item.booking_id || item.bookingId || item.booking;\r\n      console.log(`Menu item ${item.id}: booking_id=${itemBookingId}, looking for ${bookingId}`);\r\n      return itemBookingId == bookingId;\r\n    });\r\n    \r\n    console.log(`📦 Found ${apiMenuItems.length} API menu items for booking ${bookingId}`);\r\n    \r\n    // Данные из localStorage\r\n    const localFoodItems = getLocalFoodData(bookingId);\r\n    console.log(`🏠 Found ${localFoodItems.length} local food items for booking ${bookingId}`);\r\n    \r\n    // Объединяем данные из API и localStorage\r\n    const allFoodItems = [\r\n      ...apiMenuItems.map(item => {\r\n        const foodId = item.food_id || item.foodId || item.food;\r\n        const food = foods.find(f => f.id == foodId);\r\n        \r\n        console.log(`🍕 API Menu item ${item.id}: food_id=${foodId}, found food:`, food);\r\n        \r\n        return {\r\n          ...item,\r\n          food: food || { \r\n            name: `Продукт #${foodId}`, \r\n            price: item.price || 0,\r\n            id: foodId\r\n          },\r\n          quantity: item.count || item.quantity || 1,\r\n          source: 'api'\r\n        };\r\n      }),\r\n      ...localFoodItems.map(item => {\r\n        const foodId = item.food_id || item.id;\r\n        const food = foods.find(f => f.id == foodId);\r\n        \r\n        console.log(`🏠 Local food item: food_id=${foodId}, found food:`, food);\r\n        \r\n        return {\r\n          ...item,\r\n          food: food || { \r\n            name: item.name || `Продукт #${foodId}`, \r\n            price: item.price || 0,\r\n            id: foodId\r\n          },\r\n          quantity: item.quantity || item.count || 1,\r\n          source: 'local',\r\n          isLocal: true\r\n        };\r\n      })\r\n    ];\r\n    \r\n    console.log(`✅ Total ${allFoodItems.length} food items for booking ${bookingId}`, {\r\n      fromApi: apiMenuItems.length,\r\n      fromLocal: localFoodItems.length\r\n    });\r\n    \r\n    return allFoodItems;\r\n  };\r\n\r\n  const getEnhancedBooking = (booking) => {\r\n    console.log(`🎯 Enhancing booking ${booking.id}`);\r\n    \r\n    const payment = payments.find(p => p.booking_id === booking.id);\r\n    const clubInfo = getClubInfo(booking.club_id);\r\n    const computerInfo = getComputerInfo(booking.computer_id);\r\n    const bookingFoods = getBookingFoods(booking.id);\r\n\r\n    const enhanced = {\r\n      ...booking,\r\n      payment: payment || null,\r\n      clubInfo,\r\n      computerInfo,\r\n      foods: bookingFoods\r\n    };\r\n    \r\n    console.log(`✅ Enhanced booking ${booking.id}:`, {\r\n      hasPayment: !!payment,\r\n      clubInfo,\r\n      hasComputer: !!computerInfo,\r\n      foodsCount: bookingFoods.length,\r\n      foodsFromLocal: bookingFoods.filter(f => f.isLocal).length\r\n    });\r\n    \r\n    return enhanced;\r\n  };\r\n\r\n  const getStatusInfo = (status, paymentStatus) => {\r\n    if (paymentStatus) {\r\n      const paymentStatusMap = {\r\n        'pending': { text: 'Ожидает оплаты', color: '#ffc107', icon: '💰' },\r\n        'completed': { text: 'Оплачено', color: '#28a745', icon: '💳' },\r\n        'failed': { text: 'Ошибка оплаты', color: '#dc3545', icon: '❌' },\r\n        'refunded': { text: 'Возврат', color: '#6c757d', icon: '↩️' }\r\n      };\r\n      \r\n      return paymentStatusMap[paymentStatus] || paymentStatusMap.pending;\r\n    }\r\n\r\n    const statusMap = {\r\n      'draft': { text: 'Черновик', color: '#6c757d', icon: '📝' },\r\n      'pending': { text: 'Ожидает подтверждения', color: '#17a2b8', icon: '⏳' },\r\n      'confirmed': { text: 'Подтверждено', color: '#28a745', icon: '✅' },\r\n      'active': { text: 'Активно', color: '#28a745', icon: '🟢' },\r\n      'completed': { text: 'Завершено', color: '#6c757d', icon: '🏁' },\r\n      'cancelled': { text: 'Отменено', color: '#dc3545', icon: '❌' }\r\n    };\r\n    \r\n    return statusMap[status] || { text: status, color: '#6c757d', icon: '❓' };\r\n  };\r\n\r\n  const formatDateTime = (dateTimeString) => {\r\n    if (!dateTimeString) return 'Не указано';\r\n    \r\n    try {\r\n      const date = new Date(dateTimeString);\r\n      return date.toLocaleString('ru-RU', {\r\n        day: 'numeric',\r\n        month: 'long',\r\n        year: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        weekday: 'short'\r\n      });\r\n    } catch (e) {\r\n      console.log('❌ Error formatting date:', dateTimeString, e);\r\n      return dateTimeString;\r\n    }\r\n  };\r\n\r\n  const formatPrice = (price) => {\r\n    if (!price) return '0 ₽';\r\n    const numericPrice = typeof price === 'string' ? parseFloat(price) : price;\r\n    return new Intl.NumberFormat('ru-RU', {\r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2\r\n    }).format(numericPrice) + ' ₽';\r\n  };\r\n\r\n  const formatTimeDuration = (minutes) => {\r\n    if (!minutes) return 'Не указано';\r\n    const numericMinutes = typeof minutes === 'string' ? parseInt(minutes) : minutes;\r\n    const hours = Math.floor(numericMinutes / 60);\r\n    const mins = numericMinutes % 60;\r\n    \r\n    if (hours === 0) return `${mins} мин`;\r\n    if (mins === 0) return `${hours} ч`;\r\n    return `${hours} ч ${mins} мин`;\r\n  };\r\n\r\n  const handlePayNow = async (paymentId) => {\r\n    try {\r\n      alert(`Инициирована оплата платежа #${paymentId}`);\r\n    } catch (err) {\r\n      console.error('Error initiating payment:', err);\r\n      alert('Ошибка при инициации оплаты');\r\n    }\r\n  };\r\n\r\n  const handleCancelBooking = async (bookingId) => {\r\n    if (window.confirm('Вы уверены, что хотите отменить бронирование?')) {\r\n      try {\r\n        const updatedBookings = bookings.map(booking => \r\n          booking.id === bookingId \r\n            ? { ...booking, status: 'cancelled' }\r\n            : booking\r\n        );\r\n        \r\n        setBookings(updatedBookings);\r\n        alert('Бронирование успешно отменено');\r\n      } catch (err) {\r\n        console.error('Error cancelling booking:', err);\r\n        alert('Ошибка при отмене бронирования');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Функция для синхронизации локальных данных с сервером\r\n  const handleSyncLocalFood = async (bookingId) => {\r\n    try {\r\n      const localFoodItems = getLocalFoodData(bookingId);\r\n      if (localFoodItems.length === 0) {\r\n        alert('Нет локальных данных для синхронизации');\r\n        return;\r\n      }\r\n\r\n      console.log(`🔄 Syncing ${localFoodItems.length} local food items for booking ${bookingId}`);\r\n      \r\n      let successCount = 0;\r\n      let failedCount = 0;\r\n\r\n      for (const item of localFoodItems) {\r\n        try {\r\n          await apiService.addFoodToBooking(bookingId, {\r\n            food_id: item.food_id || item.id,\r\n            count: item.quantity || item.count\r\n          });\r\n          successCount++;\r\n        } catch (error) {\r\n          console.error(`❌ Failed to sync item ${item.food_id}:`, error);\r\n          failedCount++;\r\n        }\r\n      }\r\n\r\n      if (failedCount === 0) {\r\n        // Удаляем локальные данные после успешной синхронизации\r\n        localStorage.removeItem(`local_food_${bookingId}`);\r\n        localStorage.removeItem(`food_order_${bookingId}`);\r\n        alert(`✅ Все ${successCount} позиций успешно синхронизированы с сервером!`);\r\n        loadUserData(); // Перезагружаем данные\r\n      } else {\r\n        alert(`⚠️ Синхронизировано ${successCount} из ${localFoodItems.length} позиций. Неудачные: ${failedCount}`);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error syncing local food data:', error);\r\n      alert('Ошибка при синхронизации данных');\r\n    }\r\n  };\r\n\r\n  const handleBackToHome = () => {\r\n    window.location.href = '/';\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    loadUserData();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"my-bookings-container\">\r\n        <div className=\"loading-spinner\">\r\n          <div className=\"spinner\"></div>\r\n          Загрузка ваших бронирований...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const enhancedBookings = bookings.map(booking => getEnhancedBooking(booking));\r\n\r\n  console.log('🎉 Final enhanced bookings:', enhancedBookings);\r\n\r\n  return (\r\n    <section id=\"my-bookings\" className=\"my-bookings-section\">\r\n      <div className=\"background-container\">\r\n        <img src=\"/images/67f504fdfc00ad2f7d384258d27391b08ef7aabd.png\" alt=\"Abstract background\" className=\"bg-image\" />\r\n        <div className=\"bg-overlay\"></div>\r\n      </div>\r\n      \r\n      <div className=\"my-bookings-container\">\r\n        <div className=\"my-bookings-header\">\r\n          <div>\r\n            <h1>📋 Мои бронирования</h1>\r\n            <p className=\"bookings-count\">\r\n              Найдено бронирований: {bookings.length}\r\n              {additionalMenu.length > 0 && ` • Найдено записей меню: ${additionalMenu.length}`}\r\n            </p>\r\n          </div>\r\n          <div className=\"header-actions\">\r\n            <button onClick={handleRefresh} className=\"btn secondary\">\r\n              🔄 Обновить\r\n            </button>\r\n            <button onClick={handleBackToHome} className=\"btn secondary\">\r\n              На главную\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"error-message\">\r\n            ⚠️ {error}\r\n          </div>\r\n        )}\r\n\r\n        {bookings.length === 0 ? (\r\n          <div className=\"no-bookings\">\r\n            <div className=\"no-bookings-icon\">📭</div>\r\n            <h2>У вас нет активных бронирований</h2>\r\n            <p>Забронируйте место в компьютерном клубе, чтобы увидеть его здесь</p>\r\n            <button \r\n              onClick={() => window.location.href = '/booking'} \r\n              className=\"btn primary\"\r\n            >\r\n              Забронировать место\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"bookings-list\">\r\n            {enhancedBookings.map((booking) => {\r\n              const statusInfo = getStatusInfo(\r\n                booking.status, \r\n                booking.payment?.status\r\n              );\r\n              \r\n              const isPaymentPending = booking.payment?.status === 'pending';\r\n              const canCancel = ['pending', 'confirmed'].includes(booking.status);\r\n              const hasFoods = booking.foods && booking.foods.length > 0;\r\n              const hasLocalFoods = booking.foods && booking.foods.some(f => f.isLocal);\r\n              \r\n              console.log(`📋 Rendering booking ${booking.id}:`, {\r\n                hasFoods,\r\n                foodsCount: booking.foods?.length,\r\n                hasLocalFoods,\r\n                foods: booking.foods\r\n              });\r\n\r\n              return (\r\n                <div key={booking.id} className=\"booking-card\">\r\n                  <div className=\"booking-header\">\r\n                    <div className=\"booking-info\">\r\n                      <h3>Бронь #{booking.id}</h3>\r\n                      <span \r\n                        className=\"booking-status\"\r\n                        style={{ backgroundColor: statusInfo.color }}\r\n                      >\r\n                        {statusInfo.icon} {statusInfo.text}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"booking-date\">\r\n                      Создано: {new Date(booking.created_at).toLocaleDateString('ru-RU')}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"booking-details\">\r\n                    {/* Основная информация о брони */}\r\n                    <div className=\"detail-section\">\r\n                      <h4>📍 Информация о брони</h4>\r\n                      <div className=\"detail-grid\">\r\n                        <div className=\"detail-item\">\r\n                          <span className=\"detail-label\">🏢 Клуб:</span>\r\n                          <span className=\"detail-value\">\r\n                            {booking.clubInfo.address || `Клуб #${booking.club_id}`}\r\n                          </span>\r\n                        </div>\r\n                        \r\n                        {booking.computerInfo && (\r\n                          <>\r\n                            <div className=\"detail-item\">\r\n                              <span className=\"detail-label\">💻 Компьютер:</span>\r\n                              <span className=\"detail-value\">\r\n                                {booking.computerInfo.name} ({booking.computerInfo.position})\r\n                              </span>\r\n                            </div>\r\n                            \r\n                            <div className=\"detail-item\">\r\n                              <span className=\"detail-label\">⚡ Процессор:</span>\r\n                              <span className=\"detail-value\">\r\n                                {booking.computerInfo.processor || 'Не указан'}\r\n                              </span>\r\n                            </div>\r\n                            \r\n                            <div className=\"detail-item\">\r\n                              <span className=\"detail-label\">🎮 Видеокарта:</span>\r\n                              <span className=\"detail-value\">\r\n                                {booking.computerInfo.graphicsCard || 'Не указана'}\r\n                              </span>\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Время бронирования */}\r\n                    <div className=\"detail-section\">\r\n                      <h4>🕐 Время бронирования</h4>\r\n                      <div className=\"detail-grid\">\r\n                        <div className=\"detail-item\">\r\n                          <span className=\"detail-label\">Начало:</span>\r\n                          <span className=\"detail-value\">\r\n                            {formatDateTime(booking.start_time)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                          <span className=\"detail-label\">Окончание:</span>\r\n                          <span className=\"detail-value\">\r\n                            {formatDateTime(booking.end_time)}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"detail-item\">\r\n                          <span className=\"detail-label\">⏱️ Длительность:</span>\r\n                          <span className=\"detail-value\">\r\n                            {formatTimeDuration(booking.minutes)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Заказ из кафе */}\r\n                    {hasFoods ? (\r\n                      <div className=\"detail-section\">\r\n                        <h4>\r\n                          🍽️ Заказ из кафе ({booking.foods.length} позиций)\r\n                          {hasLocalFoods && (\r\n                            <span className=\"local-food-badge\" style={{\r\n                              background: '#ffc107',\r\n                              color: 'black',\r\n                              padding: '2px 8px',\r\n                              borderRadius: '12px',\r\n                              fontSize: '12px',\r\n                              marginLeft: '10px'\r\n                            }}>\r\n                              🏠 Локальные данные\r\n                            </span>\r\n                          )}\r\n                        </h4>\r\n                        <div className=\"foods-list\">\r\n                          {booking.foods.map((item, index) => (\r\n                            <div key={index} className=\"food-item\" style={{\r\n                              borderLeft: item.isLocal ? '4px solid #ffc107' : '4px solid #28a745'\r\n                            }}>\r\n                              <span className=\"food-name\">\r\n                                {item.food.name}\r\n                                {item.isLocal && (\r\n                                  <span style={{color: '#ffc107', marginLeft: '5px'}}>🏠</span>\r\n                                )}\r\n                              </span>\r\n                              <span className=\"food-quantity\">× {item.quantity}</span>\r\n                              <span className=\"food-price\">\r\n                                {formatPrice(item.food.price * item.quantity)}\r\n                              </span>\r\n                            </div>\r\n                          ))}\r\n                          <div className=\"food-total\">\r\n                            <span>Итого за еду:</span>\r\n                            <span className=\"total-amount\">\r\n                              {formatPrice(booking.foods.reduce((sum, item) => \r\n                                sum + (item.food.price * item.quantity), 0\r\n                              ))}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className=\"detail-section\">\r\n                        <h4>🍽️ Заказ из кафе</h4>\r\n                        <div className=\"no-food-message\">\r\n                          <span>❌ Заказ из кафе отсутствует</span>\r\n                          <small>В этом бронировании нет заказанных блюд</small>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Информация о платеже */}\r\n                    {booking.payment && (\r\n                      <div className=\"detail-section payment-info\">\r\n                        <h4>💳 Информация о платеже</h4>\r\n                        <div className=\"detail-grid\">\r\n                          <div className=\"detail-item\">\r\n                            <span className=\"detail-label\">ID платежа:</span>\r\n                            <span className=\"detail-value\">#{booking.payment.id}</span>\r\n                          </div>\r\n                          <div className=\"detail-item\">\r\n                            <span className=\"detail-label\">Тип оплаты:</span>\r\n                            <span className=\"detail-value\">\r\n                              {booking.payment.payment_type === 'card' ? '💳 Карта' : '💵 Наличные'}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"detail-item\">\r\n                            <span className=\"detail-label\">Статус оплаты:</span>\r\n                            <span className=\"detail-value\">\r\n                              {booking.payment.status === 'completed' ? '✅ Оплачено' : \r\n                               booking.payment.status === 'pending' ? '⏳ Ожидает оплаты' : \r\n                               booking.payment.status}\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"detail-item\">\r\n                            <span className=\"detail-label\">Сумма:</span>\r\n                            <span className=\"detail-value\">\r\n                              {formatPrice(booking.payment.price)}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {/* Итоговая стоимость */}\r\n                    <div className=\"booking-total\">\r\n                      <div className=\"cost-breakdown\">\r\n                        <div className=\"cost-item\">\r\n                          <span>Аренда компьютера:</span>\r\n                          <span>{formatPrice(booking.price_for_pc)}</span>\r\n                        </div>\r\n                        {hasFoods && (\r\n                          <div className=\"cost-item\">\r\n                            <span>Заказ из кафе:</span>\r\n                            <span>{formatPrice(booking.price_for_additions)}</span>\r\n                          </div>\r\n                        )}\r\n                        <div className=\"cost-total\">\r\n                          <span>💰 Итого к оплате:</span>\r\n                          <span className=\"total-amount\">\r\n                            {formatPrice(booking.total_price)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"booking-actions\">\r\n                    {isPaymentPending && (\r\n                      <button \r\n                        onClick={() => handlePayNow(booking.payment.id)}\r\n                        className=\"btn primary\"\r\n                      >\r\n                        💳 Оплатить сейчас\r\n                      </button>\r\n                    )}\r\n                    \r\n                    {hasLocalFoods && (\r\n                      <button \r\n                        onClick={() => handleSyncLocalFood(booking.id)}\r\n                        className=\"btn secondary\"\r\n                        style={{background: '#ffc107', color: 'black'}}\r\n                      >\r\n                        🔄 Синхронизировать еду\r\n                      </button>\r\n                    )}\r\n                    \r\n                    {canCancel && (\r\n                      <button \r\n                        onClick={() => handleCancelBooking(booking.id)}\r\n                        className=\"btn secondary\"\r\n                      >\r\n                        ❌ Отменить бронь\r\n                      </button>\r\n                    )}\r\n                    \r\n                    <button className=\"btn outline\">\r\n                      📞 Связаться с поддержкой\r\n                    </button>\r\n\r\n                    <button className=\"btn outline\">\r\n                      📧 Получить квитанцию\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n\r\n        {/* Статистика */}\r\n        {bookings.length > 0 && (\r\n          <div className=\"bookings-stats\">\r\n            <div className=\"stat-card\">\r\n              <span className=\"stat-number\">{bookings.length}</span>\r\n              <span className=\"stat-label\">Всего броней</span>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <span className=\"stat-number\">\r\n                {bookings.filter(b => b.status === 'confirmed' || b.status === 'active').length}\r\n              </span>\r\n              <span className=\"stat-label\">Активные</span>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <span className=\"stat-number\">\r\n                {enhancedBookings.filter(b => b.foods && b.foods.length > 0).length}\r\n              </span>\r\n              <span className=\"stat-label\">С заказом еды</span>\r\n            </div>\r\n            <div className=\"stat-card\">\r\n              <span className=\"stat-number\">\r\n                {enhancedBookings.filter(b => b.foods && b.foods.some(f => f.isLocal)).length}\r\n              </span>\r\n              <span className=\"stat-label\">С локальной едой</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Расширенная отладочная информация */}\r\n        <div className=\"debug-info\" style={{\r\n          background: 'rgba(255,255,255,0.1)', \r\n          padding: '15px', \r\n          borderRadius: '8px', \r\n          marginTop: '30px',\r\n          color: 'white',\r\n          fontSize: '12px'\r\n        }}>\r\n          <strong>🔧 Отладочная информация:</strong><br/>\r\n          - Бронирований: {bookings.length}<br/>\r\n          - Платежей: {payments.length}<br/>\r\n          - Клубов: {clubs.length}<br/>\r\n          - Компьютеров: {computers.length}<br/>\r\n          - Блюд: {foods.length}<br/>\r\n          - Записей меню: {additionalMenu.length}<br/>\r\n          - Броней с едой: {enhancedBookings.filter(b => b.foods && b.foods.length > 0).length}<br/>\r\n          - Броней с локальной едой: {enhancedBookings.filter(b => b.foods && b.foods.some(f => f.isLocal)).length}<br/>\r\n          <br/>\r\n          <strong>📝 Пример записи меню:</strong><br/>\r\n          {additionalMenu.length > 0 ? \r\n            JSON.stringify(additionalMenu[0]) : \r\n            'Нет данных'\r\n          }\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MyBookings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}